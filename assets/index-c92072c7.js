import{_ as O,r as i,C as Z,o as _,c as p,a as o,y as ee,n as W,w as D,l as N,b as A,d as q,F as X,m as P,t as V,p as te,f as le}from"./index-81a62dc2.js";import{u as oe}from"./resizeObserver-9d1b66c2.js";const y=2,se={__name:"index",props:{height:{type:Number,default:void 0},maxHeight:{type:Number,default:void 0},always:{type:Boolean,default:!1}},setup(n){const r=n,s=i(),g=i();let f=0,b=0;const a=i(0),v=i(0),S=i(0),z=i(0);let x=0,w=0;const M=i(!1),H=i(!1),m=i(!1);let k=!1,L=!1;function c(t){return Math.round(t*100)/100}const j=()=>{const t=s.value.clientHeight,e=s.value.clientWidth,l=s.value.scrollHeight,d=s.value.scrollWidth;l>t?(f=t-y*2,x=f/l,a.value=c(t*x),H.value=!0):H.value=!1,d>e?(b=e-y*2,w=e/d,v.value=c(e*w),M.value=!0):M.value=!1,r.always&&(m.value=!0)};Z(()=>{oe(g.value,j)});const G=()=>{r.always||(m.value=!0,L=!0)},J=()=>{r.always||(L=!1,k||(m.value=!1))},Q=t=>{requestAnimationFrame(()=>{const e=t.target.scrollTop,l=t.target.scrollLeft,d=t.target.clientHeight,u=t.target.clientWidth;S.value=c(e/d*100),z.value=c(l/u*100)})},Y=(t,e)=>{if(t.currentTarget!==t.target)return;const l=s.value.getBoundingClientRect();if(e==="vertical"){const d=l.top+y;let u=t.clientY-d-a.value/2;const h=f-a.value;u>h&&(u=h),s.value.scrollTop=c(u/x)}if(e==="horizontal"){const d=l.left+y;let u=t.clientX-d-v.value/2;const h=b-v.value;u>h&&(u=h),s.value.scrollLeft=c(u/w)}};let I="",B=0,R=0,T=0,$=0;const C=t=>{requestAnimationFrame(()=>{if(I==="vertical"){let e=t.clientY-$+R;const l=f-a.value;e>l&&(e=l),s.value.scrollTop=c(e/x)}if(I==="horizontal"){let e=t.clientX-T+B;const l=b-v.value;e>l&&(e=l),s.value.scrollLeft=c(e/w)}})},E=()=>{k=!1,!r.always&&!L&&(m.value=!1),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",E),document.onselectstart=null},F=(t,e)=>{t.ctrlKey||t.button===2||(k=!0,I=e,R=a.value*(S.value/100),B=v.value*(z.value/100),T=t.clientX,$=t.clientY,document.addEventListener("mousemove",C),document.addEventListener("mouseup",E),document.onselectstart=()=>!1)};return(t,e)=>(_(),p("div",{class:"scrollbar",onMouseover:G,onMouseleave:J},[o("div",{ref_key:"wrapRef",ref:s,class:"scrollbar__wrap",style:W({height:n.height?n.height+"px":null,"max-height":n.maxHeight?n.maxHeight+"px":null}),onScroll:Q},[o("div",{ref_key:"viewRef",ref:g,class:"scrollbar__view"},[ee(t.$slots,"default",{},void 0,!0)],512)],36),o("div",{class:"scrollbar__track horizontal",onMousedown:e[1]||(e[1]=l=>Y(l,"horizontal"))},[D(o("div",{class:"scrollbar__thumb",style:W({width:`${v.value}px`,transform:`translateX(${z.value}%)`}),onMousedown:e[0]||(e[0]=l=>F(l,"horizontal"))},null,36),[[N,M.value&&m.value]])],32),D(o("div",{class:"scrollbar__track vertical",onMousedown:e[3]||(e[3]=l=>Y(l,"vertical"))},[o("div",{class:"scrollbar__thumb",style:W({height:`${a.value}px`,transform:`translateY(${S.value}%)`}),onMousedown:e[2]||(e[2]=l=>F(l,"vertical"))},null,36)],544),[[N,H.value&&m.value]])],32))}},K=O(se,[["__scopeId","data-v-7ad1100c"]]);const U=n=>(te("data-v-c34e4edb"),n=n(),le(),n),ae=U(()=>o("div",{class:"title"},"滚动条",-1)),ne={class:"container"},re={class:"text"},ie=U(()=>o("br",null,null,-1)),ue={class:"container2"},ce={class:"text"},de={__name:"index",setup(n){const r=i(3),s=()=>{r.value++},g=()=>{r.value--,r.value<1&&(r.value=1)};return(f,b)=>(_(),p(X,null,[ae,o("button",{onClick:s},"添加数据"),o("button",{onClick:g},"删除数据"),o("div",ne,[A(K,{"max-height":400},{default:q(()=>[(_(!0),p(X,null,P(r.value,a=>(_(),p("div",{key:a,class:"list-item"},[o("div",re,V(a),1)]))),128))]),_:1})]),ie,o("div",ue,[A(K,{"max-height":400},{default:q(()=>[(_(),p(X,null,P(10,a=>o("div",{key:a,class:"list-item"},[o("div",ce,V(a),1)])),64))]),_:1})])],64))}},fe=O(de,[["__scopeId","data-v-c34e4edb"]]);export{fe as default};
