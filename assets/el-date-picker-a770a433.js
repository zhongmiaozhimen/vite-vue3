import{ge as Ut,gG as K,gH as Rt,gI as he,N as ge,Q as ne,gq as ca,g1 as da,M as Se,gn as Vt,gd as Te,V as Ce,g7 as va,i as je,r as j,U as V,s as Pe,z as _e,g9 as At,gf as fa,gJ as pa,gK as ma,g3 as ha,G as e,gL as ba,q as kt,o as C,h as me,d as ee,x as p,n as xt,k as xe,E as ie,fS as dt,j as re,c as x,a as E,y as rt,t as le,X as Wt,Y as ga,L as Ne,af as ve,f_ as ut,go as ya,gM as ka,C as wa,F as fe,m as we,e as He,w as Ve,b as A,gN as Da,gr as Ca,aj as Sa,fU as Pa,gO as Tt,gP as $t,gQ as _a,fT as nt,gR as zt,am as Ht,gS as Ma,gT as lt,l as tt,gD as it,ac as wt,ad as pt,gF as ct,a1 as ht,a6 as jt,gU as Va,gV as Ta,gW as $a,gX as Oa,gY as Ia,ao as Ra}from"./index-42043489.js";import{E as Qe}from"./el-input-353dae2a.js";import{E as Aa,C as Dt}from"./el-scrollbar-ae1d57fb.js";const xa=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],gl=s=>[...new Set(s)],Xe=s=>!s&&s!==0?[]:Array.isArray(s)?s:[s],Et=["hours","minutes","seconds"],Nt="HH:mm:ss",at="YYYY-MM-DD",Ea={date:at,dates:at,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${at} ${Nt}`,monthrange:"YYYY-MM",daterange:at,datetimerange:`${at} ${Nt}`},bt=(s,r)=>[s>0?s-1:void 0,s,s<r?s+1:void 0],qt=s=>Array.from(Array.from({length:s}).keys()),Gt=s=>s.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Jt=s=>s.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Yt=function(s,r){const l=Rt(s),n=Rt(r);return l&&n?s.getTime()===r.getTime():!l&&!n?s===r:!1},Ft=function(s,r){const l=he(s),n=he(r);return l&&n?s.length!==r.length?!1:s.every((h,g)=>Yt(h,r[g])):!l&&!n?Yt(s,r):!1},Bt=function(s,r,l){const n=Ut(r)||r==="x"?K(s).locale(l):K(s,r).locale(l);return n.isValid()?n:void 0},Lt=function(s,r,l){return Ut(r)?s:r==="x"?+s:K(s).locale(l).format(r)},gt=(s,r)=>{var l;const n=[],h=r==null?void 0:r();for(let g=0;g<s;g++)n.push((l=h==null?void 0:h.includes(g))!=null?l:!1);return n},Qt=ge({disabledHours:{type:ne(Function)},disabledMinutes:{type:ne(Function)},disabledSeconds:{type:ne(Function)}}),Na=ge({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Xt=ge({id:{type:ne([Array,String])},name:{type:ne([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ne([String,Object]),default:ca},editable:{type:Boolean,default:!0},prefixIcon:{type:ne([String,Object]),default:""},size:da,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ne(Object),default:()=>({})},modelValue:{type:ne([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ne([Date,Array])},defaultTime:{type:ne([Date,Array])},isRange:{type:Boolean,default:!1},...Qt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ne([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ya=["id","name","placeholder","value","disabled","readonly"],Fa=["id","name","placeholder","value","disabled","readonly"],Ba=Se({name:"Picker"}),La=Se({...Ba,props:Xt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(s,{expose:r,emit:l}){const n=s,h=Vt(),{lang:g}=Te(),k=Ce("date"),I=Ce("input"),S=Ce("range"),{form:P,formItem:D}=va(),$=je("ElPopperOptions",{}),b=j(),c=j(),i=j(!1),v=j(!1),z=j(null);let N=!1,f=!1;const H=V(()=>[k.b("editor"),k.bm("editor",n.type),I.e("wrapper"),k.is("disabled",y.value),k.is("active",i.value),S.b("editor"),Be?S.bm("editor",Be.value):"",h.class]),T=V(()=>[I.e("icon"),S.e("close-icon"),Oe.value?"":S.e("close-icon--hidden")]);Pe(i,t=>{t?_e(()=>{t&&(z.value=n.modelValue)}):(J.value=null,_e(()=>{B(n.modelValue)}))});const B=(t,w)=>{(w||!Ft(t,z.value))&&(l("change",t),n.validateEvent&&(D==null||D.validate("change").catch(G=>At())))},Y=t=>{if(!Ft(n.modelValue,t)){let w;he(t)?w=t.map(G=>Lt(G,n.valueFormat,g.value)):t&&(w=Lt(t,n.valueFormat,g.value)),l("update:modelValue",t&&w,g.value)}},F=t=>{l("keydown",t)},O=V(()=>{if(c.value){const t=ke.value?c.value:c.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),L=(t,w,G)=>{const oe=O.value;oe.length&&(!G||G==="min"?(oe[0].setSelectionRange(t,w),oe[0].focus()):G==="max"&&(oe[1].setSelectionRange(t,w),oe[1].focus()))},Q=()=>{R(!0,!0),_e(()=>{f=!1})},Z=(t="",w=!1)=>{w||(f=!0),i.value=w;let G;he(t)?G=t.map(oe=>oe.toDate()):G=t&&t.toDate(),J.value=null,Y(G)},de=()=>{v.value=!0},U=()=>{l("visible-change",!0)},te=t=>{(t==null?void 0:t.key)===ve.esc&&R(!0,!0)},be=()=>{v.value=!1,i.value=!1,f=!1,l("visible-change",!1)},ye=()=>{i.value=!0},q=()=>{i.value=!1},R=(t=!0,w=!1)=>{f=w;const[G,oe]=e(O);let Me=G;!t&&ke.value&&(Me=oe),Me&&Me.focus()},a=t=>{n.readonly||y.value||i.value||f||(i.value=!0,l("focus",t))};let u;const m=t=>{const w=async()=>{setTimeout(()=>{var G;u===w&&(!((G=b.value)!=null&&G.isFocusInsideContent()&&!N)&&O.value.filter(oe=>oe.contains(document.activeElement)).length===0&&(qe(),i.value=!1,l("blur",t),n.validateEvent&&(D==null||D.validate("blur").catch(oe=>At()))),N=!1)},0)};u=w,w()},y=V(()=>n.disabled||(P==null?void 0:P.disabled)),W=V(()=>{let t;if(Ye.value?o.value.getDefaultValue&&(t=o.value.getDefaultValue()):he(n.modelValue)?t=n.modelValue.map(w=>Bt(w,n.valueFormat,g.value)):t=Bt(n.modelValue,n.valueFormat,g.value),o.value.getRangeAvailableTime){const w=o.value.getRangeAvailableTime(t);fa(w,t)||(t=w,Y(he(t)?t.map(G=>G.toDate()):t.toDate()))}return he(t)&&t.some(w=>!w)&&(t=[]),t}),X=V(()=>{if(!o.value.panelReady)return"";const t=Ke(W.value);return he(J.value)?[J.value[0]||t&&t[0]||"",J.value[1]||t&&t[1]||""]:J.value!==null?J.value:!ue.value&&Ye.value||!i.value&&Ye.value?"":t?ce.value?t.join(", "):t:""}),se=V(()=>n.type.includes("time")),ue=V(()=>n.type.startsWith("time")),ce=V(()=>n.type==="dates"),$e=V(()=>n.prefixIcon||(se.value?pa:ma)),Oe=j(!1),Ze=t=>{n.readonly||y.value||Oe.value&&(t.stopPropagation(),Q(),Y(null),B(null,!0),Oe.value=!1,i.value=!1,o.value.handleClear&&o.value.handleClear())},Ye=V(()=>{const{modelValue:t}=n;return!t||he(t)&&!t.filter(Boolean).length}),pe=async t=>{var w;n.readonly||y.value||(((w=t.target)==null?void 0:w.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(i.value=!0)},Ie=()=>{n.readonly||y.value||!Ye.value&&n.clearable&&(Oe.value=!0)},Re=()=>{Oe.value=!1},Fe=t=>{var w;n.readonly||y.value||(((w=t.touches[0].target)==null?void 0:w.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(i.value=!0)},ke=V(()=>n.type.includes("range")),Be=ha(),et=V(()=>{var t,w;return(w=(t=e(b))==null?void 0:t.popperRef)==null?void 0:w.contentRef}),De=V(()=>{var t;return e(ke)?e(c):(t=e(c))==null?void 0:t.$el});ba(De,t=>{const w=e(et),G=e(De);w&&(t.target===w||t.composedPath().includes(w))||t.target===G||t.composedPath().includes(G)||(i.value=!1)});const J=j(null),qe=()=>{if(J.value){const t=Le(X.value);t&&Ee(t)&&(Y(he(t)?t.map(w=>w.toDate()):t.toDate()),J.value=null)}J.value===""&&(Y(null),B(null),J.value=null)},Le=t=>t?o.value.parseUserInput(t):null,Ke=t=>t?o.value.formatToString(t):null,Ee=t=>o.value.isValidValue(t),Ge=async t=>{if(n.readonly||y.value)return;const{code:w}=t;if(F(t),w===ve.esc){i.value===!0&&(i.value=!1,t.preventDefault(),t.stopPropagation());return}if(w===ve.down&&(o.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),i.value===!1&&(i.value=!0,await _e()),o.value.handleFocusPicker)){o.value.handleFocusPicker();return}if(w===ve.tab){N=!0;return}if(w===ve.enter||w===ve.numpadEnter){(J.value===null||J.value===""||Ee(Le(X.value)))&&(qe(),i.value=!1),t.stopPropagation();return}if(J.value){t.stopPropagation();return}o.value.handleKeydownInput&&o.value.handleKeydownInput(t)},Ue=t=>{J.value=t,i.value||(i.value=!0)},We=t=>{const w=t.target;J.value?J.value=[w.value,J.value[1]]:J.value=[w.value,null]},st=t=>{const w=t.target;J.value?J.value=[J.value[0],w.value]:J.value=[null,w.value]},Je=()=>{var t;const w=J.value,G=Le(w&&w[0]),oe=e(W);if(G&&G.isValid()){J.value=[Ke(G),((t=X.value)==null?void 0:t[1])||null];const Me=[G,oe&&(oe[1]||null)];Ee(Me)&&(Y(Me),J.value=null)}},ze=()=>{var t;const w=e(J),G=Le(w&&w[1]),oe=e(W);if(G&&G.isValid()){J.value=[((t=e(X))==null?void 0:t[0])||null,Ke(G)];const Me=[oe&&oe[0],G];Ee(Me)&&(Y(Me),J.value=null)}},o=j({}),_=t=>{o.value[t[0]]=t[1],o.value.panelReady=!0},d=t=>{l("calendar-change",t)},M=(t,w,G)=>{l("panel-change",t,w,G)};return kt("EP_PICKER_BASE",{props:n}),r({focus:R,handleFocusInput:a,handleBlurInput:m,handleOpen:ye,handleClose:q,onPick:Z}),(t,w)=>(C(),me(e(ga),Wt({ref_key:"refPopper",ref:b,visible:i.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(k).namespace.value}-zoom-in-top`,"popper-class":[`${e(k).namespace.value}-picker__popper`,t.popperClass],"popper-options":e($),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:de,onShow:U,onHide:be}),{default:ee(()=>[e(ke)?(C(),x("div",{key:1,ref_key:"inputRef",ref:c,class:p(e(H)),style:xt(t.$attrs.style),onClick:a,onMouseenter:Ie,onMouseleave:Re,onTouchstart:Fe,onKeydown:Ge},[e($e)?(C(),me(e(ie),{key:0,class:p([e(I).e("icon"),e(S).e("icon")]),onMousedown:xe(pe,["prevent"]),onTouchstart:Fe},{default:ee(()=>[(C(),me(dt(e($e))))]),_:1},8,["class","onMousedown"])):re("v-if",!0),E("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(X)&&e(X)[0],disabled:e(y),readonly:!t.editable||t.readonly,class:p(e(S).b("input")),onMousedown:pe,onInput:We,onChange:Je,onFocus:a,onBlur:m},null,42,Ya),rt(t.$slots,"range-separator",{},()=>[E("span",{class:p(e(S).b("separator"))},le(t.rangeSeparator),3)]),E("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(X)&&e(X)[1],disabled:e(y),readonly:!t.editable||t.readonly,class:p(e(S).b("input")),onMousedown:pe,onFocus:a,onBlur:m,onInput:st,onChange:ze},null,42,Fa),t.clearIcon?(C(),me(e(ie),{key:1,class:p(e(T)),onClick:Ze},{default:ee(()=>[(C(),me(dt(t.clearIcon)))]),_:1},8,["class"])):re("v-if",!0)],38)):(C(),me(e(Qe),{key:0,id:t.id,ref_key:"inputRef",ref:c,"container-role":"combobox","model-value":e(X),name:t.name,size:e(Be),disabled:e(y),placeholder:t.placeholder,class:p([e(k).b("editor"),e(k).bm("editor",t.type),t.$attrs.class]),style:xt(t.$attrs.style),readonly:!t.editable||t.readonly||e(ce)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":!1,onInput:Ue,onFocus:a,onBlur:m,onKeydown:Ge,onChange:qe,onMousedown:pe,onMouseenter:Ie,onMouseleave:Re,onTouchstart:Fe,onClick:w[0]||(w[0]=xe(()=>{},["stop"]))},{prefix:ee(()=>[e($e)?(C(),me(e(ie),{key:0,class:p(e(I).e("icon")),onMousedown:xe(pe,["prevent"]),onTouchstart:Fe},{default:ee(()=>[(C(),me(dt(e($e))))]),_:1},8,["class","onMousedown"])):re("v-if",!0)]),suffix:ee(()=>[Oe.value&&t.clearIcon?(C(),me(e(ie),{key:0,class:p(`${e(I).e("icon")} clear-icon`),onClick:xe(Ze,["stop"])},{default:ee(()=>[(C(),me(dt(t.clearIcon)))]),_:1},8,["class","onClick"])):re("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:ee(()=>[rt(t.$slots,"default",{visible:i.value,actualVisible:v.value,parsedValue:e(W),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:Z,onSelectRange:L,onSetPickerOption:_,onCalendarChange:d,onPanelChange:M,onKeydown:te,onMousedown:w[1]||(w[1]=xe(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Ka=Ne(La,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ua=ge({...Na,datetimeRole:String,parsedValue:{type:ne(Object)}}),Wa=({getAvailableHours:s,getAvailableMinutes:r,getAvailableSeconds:l})=>{const n=(k,I,S,P)=>{const D={hour:s,minute:r,second:l};let $=k;return["hour","minute","second"].forEach(b=>{if(D[b]){let c;const i=D[b];switch(b){case"minute":{c=i($.hour(),I,P);break}case"second":{c=i($.hour(),$.minute(),I,P);break}default:{c=i(I,P);break}}if(c!=null&&c.length&&!c.includes($[b]())){const v=S?0:c.length-1;$=$[b](c[v])}}}),$},h={};return{timePickerOptions:h,getAvailableTime:n,onSetOption:([k,I])=>{h[k]=I}}},yt=s=>{const r=(n,h)=>n||h,l=n=>n!==!0;return s.map(r).filter(l)},Zt=(s,r,l)=>({getHoursList:(k,I)=>gt(24,s&&(()=>s==null?void 0:s(k,I))),getMinutesList:(k,I,S)=>gt(60,r&&(()=>r==null?void 0:r(k,I,S))),getSecondsList:(k,I,S,P)=>gt(60,l&&(()=>l==null?void 0:l(k,I,S,P)))}),za=(s,r,l)=>{const{getHoursList:n,getMinutesList:h,getSecondsList:g}=Zt(s,r,l);return{getAvailableHours:(P,D)=>yt(n(P,D)),getAvailableMinutes:(P,D,$)=>yt(h(P,D,$)),getAvailableSeconds:(P,D,$,b)=>yt(g(P,D,$,b))}},Ha=s=>{const r=j(s.parsedValue);return Pe(()=>s.visible,l=>{l||(r.value=s.parsedValue)}),r},ja=100,qa=600,Kt={beforeMount(s,r){const l=r.value,{interval:n=ja,delay:h=qa}=ut(l)?{}:l;let g,k;const I=()=>ut(l)?l():l.handler(),S=()=>{k&&(clearTimeout(k),k=void 0),g&&(clearInterval(g),g=void 0)};s.addEventListener("mousedown",P=>{P.button===0&&(S(),I(),document.addEventListener("mouseup",()=>S(),{once:!0}),k=setTimeout(()=>{g=setInterval(()=>{I()},n)},h))})}},Ga=ge({role:{type:String,required:!0},spinnerDate:{type:ne(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ne(String),default:""},...Qt}),Ja=["onClick"],Qa=["onMouseenter"],Xa=Se({__name:"basic-time-spinner",props:Ga,emits:["change","select-range","set-option"],setup(s,{emit:r}){const l=s,n=Ce("time"),{getHoursList:h,getMinutesList:g,getSecondsList:k}=Zt(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let I=!1;const S=j(),P=j(),D=j(),$=j(),b={hours:P,minutes:D,seconds:$},c=V(()=>l.showSeconds?Et:Et.slice(0,2)),i=V(()=>{const{spinnerDate:a}=l,u=a.hour(),m=a.minute(),y=a.second();return{hours:u,minutes:m,seconds:y}}),v=V(()=>{const{hours:a,minutes:u}=e(i);return{hours:h(l.role),minutes:g(a,l.role),seconds:k(a,u,l.role)}}),z=V(()=>{const{hours:a,minutes:u,seconds:m}=e(i);return{hours:bt(a,23),minutes:bt(u,59),seconds:bt(m,59)}}),N=ya(a=>{I=!1,T(a)},200),f=a=>{if(!!!l.amPmMode)return"";const m=l.amPmMode==="A";let y=a<12?" am":" pm";return m&&(y=y.toUpperCase()),y},H=a=>{let u;switch(a){case"hours":u=[0,2];break;case"minutes":u=[3,5];break;case"seconds":u=[6,8];break}const[m,y]=u;r("select-range",m,y),S.value=a},T=a=>{F(a,e(i)[a])},B=()=>{T("hours"),T("minutes"),T("seconds")},Y=a=>a.querySelector(`.${n.namespace.value}-scrollbar__wrap`),F=(a,u)=>{if(l.arrowControl)return;const m=e(b[a]);m&&m.$el&&(Y(m.$el).scrollTop=Math.max(0,u*O(a)))},O=a=>{const u=e(b[a]),m=u==null?void 0:u.$el.querySelector("li");return m&&Number.parseFloat(ka(m,"height"))||0},L=()=>{Z(1)},Q=()=>{Z(-1)},Z=a=>{S.value||H("hours");const u=S.value,m=e(i)[u],y=S.value==="hours"?24:60,W=de(u,m,a,y);U(u,W),F(u,W),_e(()=>H(u))},de=(a,u,m,y)=>{let W=(u+m+y)%y;const X=e(v)[a];for(;X[W]&&W!==u;)W=(W+m+y)%y;return W},U=(a,u)=>{if(e(v)[a][u])return;const{hours:W,minutes:X,seconds:se}=e(i);let ue;switch(a){case"hours":ue=l.spinnerDate.hour(u).minute(X).second(se);break;case"minutes":ue=l.spinnerDate.hour(W).minute(u).second(se);break;case"seconds":ue=l.spinnerDate.hour(W).minute(X).second(u);break}r("change",ue)},te=(a,{value:u,disabled:m})=>{m||(U(a,u),H(a),F(a,u))},be=a=>{I=!0,N(a);const u=Math.min(Math.round((Y(e(b[a]).$el).scrollTop-(ye(a)*.5-10)/O(a)+3)/O(a)),a==="hours"?23:59);U(a,u)},ye=a=>e(b[a]).$el.offsetHeight,q=()=>{const a=u=>{const m=e(b[u]);m&&m.$el&&(Y(m.$el).onscroll=()=>{be(u)})};a("hours"),a("minutes"),a("seconds")};wa(()=>{_e(()=>{!l.arrowControl&&q(),B(),l.role==="start"&&H("hours")})});const R=(a,u)=>{b[u].value=a};return r("set-option",[`${l.role}_scrollDown`,Z]),r("set-option",[`${l.role}_emitSelectRange`,H]),Pe(()=>l.spinnerDate,()=>{I||B()}),(a,u)=>(C(),x("div",{class:p([e(n).b("spinner"),{"has-seconds":a.showSeconds}])},[a.arrowControl?re("v-if",!0):(C(!0),x(fe,{key:0},we(e(c),m=>(C(),me(e(Aa),{key:m,ref_for:!0,ref:y=>R(y,m),class:p(e(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:y=>H(m),onMousemove:y=>T(m)},{default:ee(()=>[(C(!0),x(fe,null,we(e(v)[m],(y,W)=>(C(),x("li",{key:W,class:p([e(n).be("spinner","item"),e(n).is("active",W===e(i)[m]),e(n).is("disabled",y)]),onClick:X=>te(m,{value:W,disabled:y})},[m==="hours"?(C(),x(fe,{key:0},[He(le(("0"+(a.amPmMode?W%12||12:W)).slice(-2))+le(f(W)),1)],64)):(C(),x(fe,{key:1},[He(le(("0"+W).slice(-2)),1)],64))],10,Ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),a.arrowControl?(C(!0),x(fe,{key:1},we(e(c),m=>(C(),x("div",{key:m,class:p([e(n).be("spinner","wrapper"),e(n).is("arrow")]),onMouseenter:y=>H(m)},[Ve((C(),me(e(ie),{class:p(["arrow-up",e(n).be("spinner","arrow")])},{default:ee(()=>[A(e(Da))]),_:1},8,["class"])),[[e(Kt),Q]]),Ve((C(),me(e(ie),{class:p(["arrow-down",e(n).be("spinner","arrow")])},{default:ee(()=>[A(e(Ca))]),_:1},8,["class"])),[[e(Kt),L]]),E("ul",{class:p(e(n).be("spinner","list"))},[(C(!0),x(fe,null,we(e(z)[m],(y,W)=>(C(),x("li",{key:W,class:p([e(n).be("spinner","item"),e(n).is("active",y===e(i)[m]),e(n).is("disabled",e(v)[m][y])])},[typeof y=="number"?(C(),x(fe,{key:0},[m==="hours"?(C(),x(fe,{key:0},[He(le(("0"+(a.amPmMode?y%12||12:y)).slice(-2))+le(f(y)),1)],64)):(C(),x(fe,{key:1},[He(le(("0"+y).slice(-2)),1)],64))],64)):re("v-if",!0)],2))),128))],2)],42,Qa))),128)):re("v-if",!0)],2))}});var Za=Ne(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const en=Se({__name:"panel-time-pick",props:Ua,emits:["pick","select-range","set-picker-option"],setup(s,{emit:r}){const l=s,n=je("EP_PICKER_BASE"),{arrowControl:h,disabledHours:g,disabledMinutes:k,disabledSeconds:I,defaultValue:S}=n.props,{getAvailableHours:P,getAvailableMinutes:D,getAvailableSeconds:$}=za(g,k,I),b=Ce("time"),{t:c,lang:i}=Te(),v=j([0,2]),z=Ha(l),N=V(()=>Sa(l.actualVisible)?`${b.namespace.value}-zoom-in-top`:""),f=V(()=>l.format.includes("ss")),H=V(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),T=R=>{const a=K(R).locale(i.value),u=te(a);return a.isSame(u)},B=()=>{r("pick",z.value,!1)},Y=(R=!1,a=!1)=>{a||r("pick",l.parsedValue,R)},F=R=>{if(!l.visible)return;const a=te(R).millisecond(0);r("pick",a,!0)},O=(R,a)=>{r("select-range",R,a),v.value=[R,a]},L=R=>{const a=[0,3].concat(f.value?[6]:[]),u=["hours","minutes"].concat(f.value?["seconds"]:[]),y=(a.indexOf(v.value[0])+R+a.length)%a.length;Z.start_emitSelectRange(u[y])},Q=R=>{const a=R.code,{left:u,right:m,up:y,down:W}=ve;if([u,m].includes(a)){L(a===u?-1:1),R.preventDefault();return}if([y,W].includes(a)){const X=a===y?-1:1;Z.start_scrollDown(X),R.preventDefault();return}},{timePickerOptions:Z,onSetOption:de,getAvailableTime:U}=Wa({getAvailableHours:P,getAvailableMinutes:D,getAvailableSeconds:$}),te=R=>U(R,l.datetimeRole||"",!0),be=R=>R?K(R,l.format).locale(i.value):null,ye=R=>R?R.format(l.format):null,q=()=>K(S).locale(i.value);return r("set-picker-option",["isValidValue",T]),r("set-picker-option",["formatToString",ye]),r("set-picker-option",["parseUserInput",be]),r("set-picker-option",["handleKeydownInput",Q]),r("set-picker-option",["getRangeAvailableTime",te]),r("set-picker-option",["getDefaultValue",q]),(R,a)=>(C(),me(Pa,{name:e(N)},{default:ee(()=>[R.actualVisible||R.visible?(C(),x("div",{key:0,class:p(e(b).b("panel"))},[E("div",{class:p([e(b).be("panel","content"),{"has-seconds":e(f)}])},[A(Za,{ref:"spinner",role:R.datetimeRole||"start","arrow-control":e(h),"show-seconds":e(f),"am-pm-mode":e(H),"spinner-date":R.parsedValue,"disabled-hours":e(g),"disabled-minutes":e(k),"disabled-seconds":e(I),onChange:F,onSetOption:e(de),onSelectRange:O},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),E("div",{class:p(e(b).be("panel","footer"))},[E("button",{type:"button",class:p([e(b).be("panel","btn"),"cancel"]),onClick:B},le(e(c)("el.datepicker.cancel")),3),E("button",{type:"button",class:p([e(b).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=u=>Y())},le(e(c)("el.datepicker.confirm")),3)],2)],2)):re("v-if",!0)]),_:1},8,["name"]))}});var Ct=Ne(en,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),ea={exports:{}};(function(s,r){(function(l,n){s.exports=n()})(Tt,function(){return function(l,n,h){n.prototype.dayOfYear=function(g){var k=Math.round((h(this).startOf("day")-h(this).startOf("year"))/864e5)+1;return g==null?k:this.add(g-k,"day")}}})})(ea);var tn=ea.exports;const an=$t(tn);var ta={exports:{}};(function(s,r){(function(l,n){s.exports=n()})(Tt,function(){return function(l,n){n.prototype.isSameOrAfter=function(h,g){return this.isSame(h,g)||this.isAfter(h,g)}}})})(ta);var nn=ta.exports;const ln=$t(nn);var aa={exports:{}};(function(s,r){(function(l,n){s.exports=n()})(Tt,function(){return function(l,n){n.prototype.isSameOrBefore=function(h,g){return this.isSame(h,g)||this.isBefore(h,g)}}})})(aa);var sn=aa.exports;const on=$t(sn),Ot=Symbol(),rn=ge({...Xt,type:{type:ne(String),default:"date"}}),un=["date","dates","year","month","week","range"],It=ge({disabledDate:{type:ne(Function)},date:{type:ne(Object),required:!0},minDate:{type:ne(Object)},maxDate:{type:ne(Object)},parsedValue:{type:ne([Object,Array])},rangeState:{type:ne(Object),default:()=>({endDate:null,selecting:!1})}}),na=ge({type:{type:ne(String),required:!0,values:xa}}),la=ge({unlinkPanels:Boolean,parsedValue:{type:ne(Array)}}),sa=s=>({type:String,values:un,default:s}),cn=ge({...na,parsedValue:{type:ne([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),dn=ge({...It,cellClassName:{type:ne(Function)},showWeekNumber:Boolean,selectionMode:sa("date")}),vn=["changerange","pick","select"],St=s=>{if(!he(s))return!1;const[r,l]=s;return K.isDayjs(r)&&K.isDayjs(l)&&r.isSameOrBefore(l)},oa=(s,{lang:r,unit:l,unlinkPanels:n})=>{let h;if(he(s)){let[g,k]=s.map(I=>K(I).locale(r));return n||(k=g.add(1,l)),[g,k]}else s?h=K(s):h=K();return h=h.locale(r),[h,h.add(1,l)]},fn=(s,r,{columnIndexOffset:l,startDate:n,nextEndDate:h,now:g,unit:k,relativeDateGetter:I,setCellMetadata:S,setRowMetadata:P})=>{for(let D=0;D<s.row;D++){const $=r[D];for(let b=0;b<s.column;b++){let c=$[b+l];c||(c={row:D,column:b,type:"normal",inRange:!1,start:!1,end:!1});const i=D*s.column+b,v=I(i);c.dayjs=v,c.date=v.toDate(),c.timestamp=v.valueOf(),c.type="normal",c.inRange=!!(n&&v.isSameOrAfter(n,k)&&h&&v.isSameOrBefore(h,k))||!!(n&&v.isSameOrBefore(n,k)&&h&&v.isSameOrAfter(h,k)),n!=null&&n.isSameOrAfter(h)?(c.start=!!h&&v.isSame(h,k),c.end=n&&v.isSame(n,k)):(c.start=!!n&&v.isSame(n,k),c.end=!!h&&v.isSame(h,k)),v.isSame(g,k)&&(c.type="today"),S==null||S(c,{rowIndex:D,columnIndex:b}),$[b+l]=c}P==null||P($)}},Pt=(s="")=>["normal","today"].includes(s),pn=(s,r)=>{const{lang:l}=Te(),n=j(),h=j(),g=j(),k=j(),I=j([[],[],[],[],[],[]]);let S=!1;const P=s.date.$locale().weekStart||7,D=s.date.locale("en").localeData().weekdaysShort().map(a=>a.toLowerCase()),$=V(()=>P>3?7-P:-P),b=V(()=>{const a=s.date.startOf("month");return a.subtract(a.day()||7,"day")}),c=V(()=>D.concat(D).slice(P,P+7)),i=V(()=>_a(e(T)).some(a=>a.isCurrent)),v=V(()=>{const a=s.date.startOf("month"),u=a.day()||7,m=a.daysInMonth(),y=a.subtract(1,"month").daysInMonth();return{startOfMonthDay:u,dateCountOfMonth:m,dateCountOfLastMonth:y}}),z=V(()=>s.selectionMode==="dates"?Xe(s.parsedValue):[]),N=(a,{count:u,rowIndex:m,columnIndex:y})=>{const{startOfMonthDay:W,dateCountOfMonth:X,dateCountOfLastMonth:se}=e(v),ue=e($);if(m>=0&&m<=1){const ce=W+ue<0?7+W+ue:W+ue;if(y+m*7>=ce)return a.text=u,!0;a.text=se-(ce-y%7)+1+m*7,a.type="prev-month"}else return u<=X?a.text=u:(a.text=u-X,a.type="next-month"),!0;return!1},f=(a,{columnIndex:u,rowIndex:m},y)=>{const{disabledDate:W,cellClassName:X}=s,se=e(z),ue=N(a,{count:y,rowIndex:m,columnIndex:u}),ce=a.dayjs.toDate();return a.selected=se.find($e=>$e.valueOf()===a.dayjs.valueOf()),a.isSelected=!!a.selected,a.isCurrent=Y(a),a.disabled=W==null?void 0:W(ce),a.customClass=X==null?void 0:X(ce),ue},H=a=>{if(s.selectionMode==="week"){const[u,m]=s.showWeekNumber?[1,7]:[0,6],y=R(a[u+1]);a[u].inRange=y,a[u].start=y,a[m].inRange=y,a[m].end=y}},T=V(()=>{const{minDate:a,maxDate:u,rangeState:m,showWeekNumber:y}=s,W=e($),X=e(I),se="day";let ue=1;if(y)for(let ce=0;ce<6;ce++)X[ce][0]||(X[ce][0]={type:"week",text:e(b).add(ce*7+1,se).week()});return fn({row:6,column:7},X,{startDate:a,columnIndexOffset:y?1:0,nextEndDate:m.endDate||u||m.selecting&&a||null,now:K().locale(e(l)).startOf(se),unit:se,relativeDateGetter:ce=>e(b).add(ce-W,se),setCellMetadata:(...ce)=>{f(...ce,ue)&&(ue+=1)},setRowMetadata:H}),X});Pe(()=>s.date,async()=>{var a;(a=e(n))!=null&&a.contains(document.activeElement)&&(await _e(),await B())});const B=async()=>{var a;return(a=e(h))==null?void 0:a.focus()},Y=a=>s.selectionMode==="date"&&Pt(a.type)&&F(a,s.parsedValue),F=(a,u)=>u?K(u).locale(e(l)).isSame(s.date.date(Number(a.text)),"day"):!1,O=(a,u)=>{const m=a*7+(u-(s.showWeekNumber?1:0))-e($);return e(b).add(m,"day")},L=a=>{var u;if(!s.rangeState.selecting)return;let m=a.target;if(m.tagName==="SPAN"&&(m=(u=m.parentNode)==null?void 0:u.parentNode),m.tagName==="DIV"&&(m=m.parentNode),m.tagName!=="TD")return;const y=m.parentNode.rowIndex-1,W=m.cellIndex;e(T)[y][W].disabled||(y!==e(g)||W!==e(k))&&(g.value=y,k.value=W,r("changerange",{selecting:!0,endDate:O(y,W)}))},Q=a=>!e(i)&&(a==null?void 0:a.text)===1&&a.type==="normal"||a.isCurrent,Z=a=>{S||e(i)||s.selectionMode!=="date"||q(a,!0)},de=a=>{a.target.closest("td")&&(S=!0)},U=a=>{a.target.closest("td")&&(S=!1)},te=a=>{!s.rangeState.selecting||!s.minDate?(r("pick",{minDate:a,maxDate:null}),r("select",!0)):(a>=s.minDate?r("pick",{minDate:s.minDate,maxDate:a}):r("pick",{minDate:a,maxDate:s.minDate}),r("select",!1))},be=a=>{const u=a.week(),m=`${a.year()}w${u}`;r("pick",{year:a.year(),week:u,value:m,date:a.startOf("week")})},ye=(a,u)=>{const m=u?Xe(s.parsedValue).filter(y=>(y==null?void 0:y.valueOf())!==a.valueOf()):Xe(s.parsedValue).concat([a]);r("pick",m)},q=(a,u=!1)=>{const m=a.target.closest("td");if(!m)return;const y=m.parentNode.rowIndex-1,W=m.cellIndex,X=e(T)[y][W];if(X.disabled||X.type==="week")return;const se=O(y,W);switch(s.selectionMode){case"range":{te(se);break}case"date":{r("pick",se,u);break}case"week":{be(se);break}case"dates":{ye(se,!!X.selected);break}}},R=a=>{if(s.selectionMode!=="week")return!1;let u=s.date.startOf("day");if(a.type==="prev-month"&&(u=u.subtract(1,"month")),a.type==="next-month"&&(u=u.add(1,"month")),u=u.date(Number.parseInt(a.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const m=(s.parsedValue.day()-P+7)%7-1;return s.parsedValue.subtract(m,"day").isSame(u,"day")}return!1};return{WEEKS:c,rows:T,tbodyRef:n,currentCellRef:h,focus:B,isCurrent:Y,isWeekActive:R,isSelectedCell:Q,handlePickDate:q,handleMouseUp:U,handleMouseDown:de,handleMouseMove:L,handleFocus:Z}},mn=(s,{isCurrent:r,isWeekActive:l})=>{const n=Ce("date-table"),{t:h}=Te(),g=V(()=>[n.b(),{"is-week-mode":s.selectionMode==="week"}]),k=V(()=>h("el.datepicker.dateTablePrompt")),I=V(()=>h("el.datepicker.week"));return{tableKls:g,tableLabel:k,weekLabel:I,getCellClasses:D=>{const $=[];return Pt(D.type)&&!D.disabled?($.push("available"),D.type==="today"&&$.push("today")):$.push(D.type),r(D)&&$.push("current"),D.inRange&&(Pt(D.type)||s.selectionMode==="week")&&($.push("in-range"),D.start&&$.push("start-date"),D.end&&$.push("end-date")),D.disabled&&$.push("disabled"),D.selected&&$.push("selected"),D.customClass&&$.push(D.customClass),$.join(" ")},getRowKls:D=>[n.e("row"),{current:l(D)}],t:h}},hn=ge({cell:{type:ne(Object)}});var bn=Se({name:"ElDatePickerCell",props:hn,setup(s){const r=Ce("date-table-cell"),{slots:l}=je(Ot);return()=>{const{cell:n}=s;if(l.default){const h=l.default(n).filter(g=>g.patchFlag!==-2&&g.type.toString()!=="Symbol(Comment)");if(h.length)return h}return A("div",{class:r.b()},[A("span",{class:r.e("text")},[n==null?void 0:n.text])])}}});const gn=["aria-label"],yn={key:0,scope:"col"},kn=["aria-label"],wn=["aria-current","aria-selected","tabindex"],Dn=Se({__name:"basic-date-table",props:dn,emits:vn,setup(s,{expose:r,emit:l}){const n=s,{WEEKS:h,rows:g,tbodyRef:k,currentCellRef:I,focus:S,isCurrent:P,isWeekActive:D,isSelectedCell:$,handlePickDate:b,handleMouseUp:c,handleMouseDown:i,handleMouseMove:v,handleFocus:z}=pn(n,l),{tableLabel:N,tableKls:f,weekLabel:H,getCellClasses:T,getRowKls:B,t:Y}=mn(n,{isCurrent:P,isWeekActive:D});return r({focus:S}),(F,O)=>(C(),x("table",{"aria-label":e(N),class:p(e(f)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:O[1]||(O[1]=(...L)=>e(b)&&e(b)(...L)),onMousemove:O[2]||(O[2]=(...L)=>e(v)&&e(v)(...L)),onMousedown:O[3]||(O[3]=xe((...L)=>e(i)&&e(i)(...L),["prevent"])),onMouseup:O[4]||(O[4]=(...L)=>e(c)&&e(c)(...L))},[E("tbody",{ref_key:"tbodyRef",ref:k},[E("tr",null,[F.showWeekNumber?(C(),x("th",yn,le(e(H)),1)):re("v-if",!0),(C(!0),x(fe,null,we(e(h),(L,Q)=>(C(),x("th",{key:Q,"aria-label":e(Y)("el.datepicker.weeksFull."+L),scope:"col"},le(e(Y)("el.datepicker.weeks."+L)),9,kn))),128))]),(C(!0),x(fe,null,we(e(g),(L,Q)=>(C(),x("tr",{key:Q,class:p(e(B)(L[1]))},[(C(!0),x(fe,null,we(L,(Z,de)=>(C(),x("td",{key:`${Q}.${de}`,ref_for:!0,ref:U=>e($)(Z)&&(I.value=U),class:p(e(T)(Z)),"aria-current":Z.isCurrent?"date":void 0,"aria-selected":Z.isCurrent,tabindex:e($)(Z)?0:-1,onFocus:O[0]||(O[0]=(...U)=>e(z)&&e(z)(...U))},[A(e(bn),{cell:Z},null,8,["cell"])],42,wn))),128))],2))),128))],512)],42,gn))}});var _t=Ne(Dn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Cn=ge({...It,selectionMode:sa("month")}),Sn=["aria-label"],Pn=["aria-selected","aria-label","tabindex","onKeydown"],_n={class:"cell"},Mn=Se({__name:"basic-month-table",props:Cn,emits:["changerange","pick","select"],setup(s,{expose:r,emit:l}){const n=s,h=(T,B,Y)=>{const F=K().locale(Y).startOf("month").month(B).year(T),O=F.daysInMonth();return qt(O).map(L=>F.add(L,"day").toDate())},g=Ce("month-table"),{t:k,lang:I}=Te(),S=j(),P=j(),D=j(n.date.locale("en").localeData().monthsShort().map(T=>T.toLowerCase())),$=j([[],[],[]]),b=j(),c=j(),i=V(()=>{var T,B;const Y=$.value,F=K().locale(I.value).startOf("month");for(let O=0;O<3;O++){const L=Y[O];for(let Q=0;Q<4;Q++){const Z=L[Q]||(L[Q]={row:O,column:Q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Z.type="normal";const de=O*4+Q,U=n.date.startOf("year").month(de),te=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;Z.inRange=!!(n.minDate&&U.isSameOrAfter(n.minDate,"month")&&te&&U.isSameOrBefore(te,"month"))||!!(n.minDate&&U.isSameOrBefore(n.minDate,"month")&&te&&U.isSameOrAfter(te,"month")),(T=n.minDate)!=null&&T.isSameOrAfter(te)?(Z.start=!!(te&&U.isSame(te,"month")),Z.end=n.minDate&&U.isSame(n.minDate,"month")):(Z.start=!!(n.minDate&&U.isSame(n.minDate,"month")),Z.end=!!(te&&U.isSame(te,"month"))),F.isSame(U)&&(Z.type="today"),Z.text=de,Z.disabled=((B=n.disabledDate)==null?void 0:B.call(n,U.toDate()))||!1}}return Y}),v=()=>{var T;(T=P.value)==null||T.focus()},z=T=>{const B={},Y=n.date.year(),F=new Date,O=T.text;return B.disabled=n.disabledDate?h(Y,O,I.value).every(n.disabledDate):!1,B.current=Xe(n.parsedValue).findIndex(L=>K.isDayjs(L)&&L.year()===Y&&L.month()===O)>=0,B.today=F.getFullYear()===Y&&F.getMonth()===O,T.inRange&&(B["in-range"]=!0,T.start&&(B["start-date"]=!0),T.end&&(B["end-date"]=!0)),B},N=T=>{const B=n.date.year(),Y=T.text;return Xe(n.date).findIndex(F=>F.year()===B&&F.month()===Y)>=0},f=T=>{var B;if(!n.rangeState.selecting)return;let Y=T.target;if(Y.tagName==="A"&&(Y=(B=Y.parentNode)==null?void 0:B.parentNode),Y.tagName==="DIV"&&(Y=Y.parentNode),Y.tagName!=="TD")return;const F=Y.parentNode.rowIndex,O=Y.cellIndex;i.value[F][O].disabled||(F!==b.value||O!==c.value)&&(b.value=F,c.value=O,l("changerange",{selecting:!0,endDate:n.date.startOf("year").month(F*4+O)}))},H=T=>{var B;const Y=(B=T.target)==null?void 0:B.closest("td");if((Y==null?void 0:Y.tagName)!=="TD"||zt(Y,"disabled"))return;const F=Y.cellIndex,L=Y.parentNode.rowIndex*4+F,Q=n.date.startOf("year").month(L);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&Q>=n.minDate?l("pick",{minDate:n.minDate,maxDate:Q}):l("pick",{minDate:Q,maxDate:n.minDate}),l("select",!1)):(l("pick",{minDate:Q,maxDate:null}),l("select",!0)):l("pick",L)};return Pe(()=>n.date,async()=>{var T,B;(T=S.value)!=null&&T.contains(document.activeElement)&&(await _e(),(B=P.value)==null||B.focus())}),r({focus:v}),(T,B)=>(C(),x("table",{role:"grid","aria-label":e(k)("el.datepicker.monthTablePrompt"),class:p(e(g).b()),onClick:H,onMousemove:f},[E("tbody",{ref_key:"tbodyRef",ref:S},[(C(!0),x(fe,null,we(e(i),(Y,F)=>(C(),x("tr",{key:F},[(C(!0),x(fe,null,we(Y,(O,L)=>(C(),x("td",{key:L,ref_for:!0,ref:Q=>N(O)&&(P.value=Q),class:p(z(O)),"aria-selected":`${N(O)}`,"aria-label":e(k)(`el.datepicker.month${+O.text+1}`),tabindex:N(O)?0:-1,onKeydown:[nt(xe(H,["prevent","stop"]),["space"]),nt(xe(H,["prevent","stop"]),["enter"])]},[E("div",null,[E("span",_n,le(e(k)("el.datepicker.months."+D.value[O.text])),1)])],42,Pn))),128))]))),128))],512)],42,Sn))}});var Mt=Ne(Mn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Vn,disabledDate:Tn,parsedValue:$n}=It,On=ge({date:Vn,disabledDate:Tn,parsedValue:$n}),In=["aria-label"],Rn=["aria-selected","tabindex","onKeydown"],An={class:"cell"},xn={key:1},En=Se({__name:"basic-year-table",props:On,emits:["pick"],setup(s,{expose:r,emit:l}){const n=s,h=(v,z)=>{const N=K(String(v)).locale(z).startOf("year"),H=N.endOf("year").dayOfYear();return qt(H).map(T=>N.add(T,"day").toDate())},g=Ce("year-table"),{t:k,lang:I}=Te(),S=j(),P=j(),D=V(()=>Math.floor(n.date.year()/10)*10),$=()=>{var v;(v=P.value)==null||v.focus()},b=v=>{const z={},N=K().locale(I.value);return z.disabled=n.disabledDate?h(v,I.value).every(n.disabledDate):!1,z.current=Xe(n.parsedValue).findIndex(f=>f.year()===v)>=0,z.today=N.year()===v,z},c=v=>v===D.value&&n.date.year()<D.value&&n.date.year()>D.value+9||Xe(n.date).findIndex(z=>z.year()===v)>=0,i=v=>{const N=v.target.closest("td");if(N&&N.textContent){if(zt(N,"disabled"))return;const f=N.textContent||N.innerText;l("pick",Number(f))}};return Pe(()=>n.date,async()=>{var v,z;(v=S.value)!=null&&v.contains(document.activeElement)&&(await _e(),(z=P.value)==null||z.focus())}),r({focus:$}),(v,z)=>(C(),x("table",{role:"grid","aria-label":e(k)("el.datepicker.yearTablePrompt"),class:p(e(g).b()),onClick:i},[E("tbody",{ref_key:"tbodyRef",ref:S},[(C(),x(fe,null,we(3,(N,f)=>E("tr",{key:f},[(C(),x(fe,null,we(4,(H,T)=>(C(),x(fe,{key:f+"_"+T},[f*4+T<10?(C(),x("td",{key:0,ref_for:!0,ref:B=>c(e(D)+f*4+T)&&(P.value=B),class:p(["available",b(e(D)+f*4+T)]),"aria-selected":`${c(e(D)+f*4+T)}`,tabindex:c(e(D)+f*4+T)?0:-1,onKeydown:[nt(xe(i,["prevent","stop"]),["space"]),nt(xe(i,["prevent","stop"]),["enter"])]},[E("span",An,le(e(D)+f*4+T),1)],42,Rn)):(C(),x("td",xn))],64))),64))])),64))],512)],10,In))}});var Nn=Ne(En,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Yn=["onClick"],Fn=["aria-label"],Bn=["aria-label"],Ln=["aria-label"],Kn=["aria-label"],Un=Se({__name:"panel-date-pick",props:cn,emits:["pick","set-picker-option","panel-change"],setup(s,{emit:r}){const l=s,n=(o,_,d)=>!0,h=Ce("picker-panel"),g=Ce("date-picker"),k=Vt(),I=Ht(),{t:S,lang:P}=Te(),D=je("EP_PICKER_BASE"),$=je(Ma),{shortcuts:b,disabledDate:c,cellClassName:i,defaultTime:v}=D.props,z=lt(D.props,"defaultValue"),N=j(),f=j(K().locale(P.value)),H=j(!1);let T=!1;const B=V(()=>K(v).locale(P.value)),Y=V(()=>f.value.month()),F=V(()=>f.value.year()),O=j([]),L=j(null),Q=j(null),Z=o=>O.value.length>0?n(o,O.value,l.format||"HH:mm:ss"):!0,de=o=>v&&!Re.value&&!H.value&&!T?B.value.year(o.year()).month(o.month()).date(o.date()):ue.value?o.millisecond(0):o.startOf("day"),U=(o,..._)=>{if(!o)r("pick",o,..._);else if(he(o)){const d=o.map(de);r("pick",d,..._)}else r("pick",de(o),..._);L.value=null,Q.value=null,H.value=!1,T=!1},te=(o,_)=>{if(u.value==="date"){o=o;let d=l.parsedValue?l.parsedValue.year(o.year()).month(o.month()).date(o.date()):o;Z(d)||(d=O.value[0][0].year(o.year()).month(o.month()).date(o.date())),f.value=d,U(d,ue.value||_)}else u.value==="week"?U(o.date):u.value==="dates"&&U(o,!0)},be=o=>{const _=o?"add":"subtract";f.value=f.value[_](1,"month"),ze("month")},ye=o=>{const _=f.value,d=o?"add":"subtract";f.value=q.value==="year"?_[d](10,"year"):_[d](1,"year"),ze("year")},q=j("date"),R=V(()=>{const o=S("el.datepicker.year");if(q.value==="year"){const _=Math.floor(F.value/10)*10;return o?`${_} ${o} - ${_+9} ${o}`:`${_} - ${_+9}`}return`${F.value} ${o}`}),a=o=>{const _=ut(o.value)?o.value():o.value;if(_){T=!0,U(K(_).locale(P.value));return}o.onClick&&o.onClick({attrs:k,slots:I,emit:r})},u=V(()=>{const{type:o}=l;return["week","month","year","dates"].includes(o)?o:"date"}),m=V(()=>u.value==="date"?q.value:u.value),y=V(()=>!!b.length),W=async o=>{f.value=f.value.startOf("month").month(o),u.value==="month"?U(f.value,!1):(q.value="date",["month","year","date","week"].includes(u.value)&&(U(f.value,!0),await _e(),We())),ze("month")},X=async o=>{u.value==="year"?(f.value=f.value.startOf("year").year(o),U(f.value,!1)):(f.value=f.value.year(o),q.value="month",["month","year","date","week"].includes(u.value)&&(U(f.value,!0),await _e(),We())),ze("year")},se=async o=>{q.value=o,await _e(),We()},ue=V(()=>l.type==="datetime"||l.type==="datetimerange"),ce=V(()=>ue.value||u.value==="dates"),$e=V(()=>c?l.parsedValue?he(l.parsedValue)?c(l.parsedValue[0].toDate()):c(l.parsedValue.toDate()):!0:!1),Oe=()=>{if(u.value==="dates")U(l.parsedValue);else{let o=l.parsedValue;if(!o){const _=K(v).locale(P.value),d=Ue();o=_.year(d.year()).month(d.month()).date(d.date())}f.value=o,U(o)}},Ze=V(()=>c?c(K().locale(P.value).toDate()):!1),Ye=()=>{const _=K().locale(P.value).toDate();H.value=!0,(!c||!c(_))&&Z(_)&&(f.value=K().locale(P.value),U(f.value))},pe=V(()=>Jt(l.format)),Ie=V(()=>Gt(l.format)),Re=V(()=>{if(Q.value)return Q.value;if(!(!l.parsedValue&&!z.value))return(l.parsedValue||f.value).format(pe.value)}),Fe=V(()=>{if(L.value)return L.value;if(!(!l.parsedValue&&!z.value))return(l.parsedValue||f.value).format(Ie.value)}),ke=j(!1),Be=()=>{ke.value=!0},et=()=>{ke.value=!1},De=o=>({hour:o.hour(),minute:o.minute(),second:o.second(),year:o.year(),month:o.month(),date:o.date()}),J=(o,_,d)=>{const{hour:M,minute:t,second:w}=De(o),G=l.parsedValue?l.parsedValue.hour(M).minute(t).second(w):o;f.value=G,U(f.value,!0),d||(ke.value=_)},qe=o=>{const _=K(o,pe.value).locale(P.value);if(_.isValid()&&Z(_)){const{year:d,month:M,date:t}=De(f.value);f.value=_.year(d).month(M).date(t),Q.value=null,ke.value=!1,U(f.value,!0)}},Le=o=>{const _=K(o,Ie.value).locale(P.value);if(_.isValid()){if(c&&c(_.toDate()))return;const{hour:d,minute:M,second:t}=De(f.value);f.value=_.hour(d).minute(M).second(t),L.value=null,U(f.value,!0)}},Ke=o=>K.isDayjs(o)&&o.isValid()&&(c?!c(o.toDate()):!0),Ee=o=>u.value==="dates"?o.map(_=>_.format(l.format)):o.format(l.format),Ge=o=>K(o,l.format).locale(P.value),Ue=()=>{const o=K(z.value).locale(P.value);if(!z.value){const _=B.value;return K().hour(_.hour()).minute(_.minute()).second(_.second()).locale(P.value)}return o},We=async()=>{var o;["week","month","year","date"].includes(u.value)&&((o=N.value)==null||o.focus(),u.value==="week"&&Je(ve.down))},st=o=>{const{code:_}=o;[ve.up,ve.down,ve.left,ve.right,ve.home,ve.end,ve.pageUp,ve.pageDown].includes(_)&&(Je(_),o.stopPropagation(),o.preventDefault()),[ve.enter,ve.space,ve.numpadEnter].includes(_)&&L.value===null&&Q.value===null&&(o.preventDefault(),U(f.value,!1))},Je=o=>{var _;const{up:d,down:M,left:t,right:w,home:G,end:oe,pageUp:Me,pageDown:ua}=ve,ia={year:{[d]:-4,[M]:4,[t]:-1,[w]:1,offset:(ae,Ae)=>ae.setFullYear(ae.getFullYear()+Ae)},month:{[d]:-4,[M]:4,[t]:-1,[w]:1,offset:(ae,Ae)=>ae.setMonth(ae.getMonth()+Ae)},week:{[d]:-1,[M]:1,[t]:-1,[w]:1,offset:(ae,Ae)=>ae.setDate(ae.getDate()+Ae*7)},date:{[d]:-7,[M]:7,[t]:-1,[w]:1,[G]:ae=>-ae.getDay(),[oe]:ae=>-ae.getDay()+6,[Me]:ae=>-new Date(ae.getFullYear(),ae.getMonth(),0).getDate(),[ua]:ae=>new Date(ae.getFullYear(),ae.getMonth()+1,0).getDate(),offset:(ae,Ae)=>ae.setDate(ae.getDate()+Ae)}},ot=f.value.toDate();for(;Math.abs(f.value.diff(ot,"year",!0))<1;){const ae=ia[m.value];if(!ae)return;if(ae.offset(ot,ut(ae[o])?ae[o](ot):(_=ae[o])!=null?_:0),c&&c(ot))break;const Ae=K(ot).locale(P.value);f.value=Ae,r("pick",Ae,!0);break}},ze=o=>{r("panel-change",f.value.toDate(),o,q.value)};return Pe(()=>u.value,o=>{if(["month","year"].includes(o)){q.value=o;return}q.value="date"},{immediate:!0}),Pe(()=>q.value,()=>{$==null||$.updatePopper()}),Pe(()=>z.value,o=>{o&&(f.value=Ue())},{immediate:!0}),Pe(()=>l.parsedValue,o=>{if(o){if(u.value==="dates"||Array.isArray(o))return;f.value=o}else f.value=Ue()},{immediate:!0}),r("set-picker-option",["isValidValue",Ke]),r("set-picker-option",["formatToString",Ee]),r("set-picker-option",["parseUserInput",Ge]),r("set-picker-option",["handleFocusPicker",We]),(o,_)=>(C(),x("div",{class:p([e(h).b(),e(g).b(),{"has-sidebar":o.$slots.sidebar||e(y),"has-time":e(ue)}])},[E("div",{class:p(e(h).e("body-wrapper"))},[rt(o.$slots,"sidebar",{class:p(e(h).e("sidebar"))}),e(y)?(C(),x("div",{key:0,class:p(e(h).e("sidebar"))},[(C(!0),x(fe,null,we(e(b),(d,M)=>(C(),x("button",{key:M,type:"button",class:p(e(h).e("shortcut")),onClick:t=>a(d)},le(d.text),11,Yn))),128))],2)):re("v-if",!0),E("div",{class:p(e(h).e("body"))},[e(ue)?(C(),x("div",{key:0,class:p(e(g).e("time-header"))},[E("span",{class:p(e(g).e("editor-wrap"))},[A(e(Qe),{placeholder:e(S)("el.datepicker.selectDate"),"model-value":e(Fe),size:"small","validate-event":!1,onInput:_[0]||(_[0]=d=>L.value=d),onChange:Le},null,8,["placeholder","model-value"])],2),Ve((C(),x("span",{class:p(e(g).e("editor-wrap"))},[A(e(Qe),{placeholder:e(S)("el.datepicker.selectTime"),"model-value":e(Re),size:"small","validate-event":!1,onFocus:Be,onInput:_[1]||(_[1]=d=>Q.value=d),onChange:qe},null,8,["placeholder","model-value"]),A(e(Ct),{visible:ke.value,format:e(pe),"parsed-value":f.value,onPick:J},null,8,["visible","format","parsed-value"])],2)),[[e(Dt),et]])],2)):re("v-if",!0),Ve(E("div",{class:p([e(g).e("header"),(q.value==="year"||q.value==="month")&&e(g).e("header--bordered")])},[E("span",{class:p(e(g).e("prev-btn"))},[E("button",{type:"button","aria-label":e(S)("el.datepicker.prevYear"),class:p(["d-arrow-left",e(h).e("icon-btn")]),onClick:_[2]||(_[2]=d=>ye(!1))},[A(e(ie),null,{default:ee(()=>[A(e(it))]),_:1})],10,Fn),Ve(E("button",{type:"button","aria-label":e(S)("el.datepicker.prevMonth"),class:p([e(h).e("icon-btn"),"arrow-left"]),onClick:_[3]||(_[3]=d=>be(!1))},[A(e(ie),null,{default:ee(()=>[A(e(wt))]),_:1})],10,Bn),[[tt,q.value==="date"]])],2),E("span",{role:"button",class:p(e(g).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:_[4]||(_[4]=nt(d=>se("year"),["enter"])),onClick:_[5]||(_[5]=d=>se("year"))},le(e(R)),35),Ve(E("span",{role:"button","aria-live":"polite",tabindex:"0",class:p([e(g).e("header-label"),{active:q.value==="month"}]),onKeydown:_[6]||(_[6]=nt(d=>se("month"),["enter"])),onClick:_[7]||(_[7]=d=>se("month"))},le(e(S)(`el.datepicker.month${e(Y)+1}`)),35),[[tt,q.value==="date"]]),E("span",{class:p(e(g).e("next-btn"))},[Ve(E("button",{type:"button","aria-label":e(S)("el.datepicker.nextMonth"),class:p([e(h).e("icon-btn"),"arrow-right"]),onClick:_[8]||(_[8]=d=>be(!0))},[A(e(ie),null,{default:ee(()=>[A(e(pt))]),_:1})],10,Ln),[[tt,q.value==="date"]]),E("button",{type:"button","aria-label":e(S)("el.datepicker.nextYear"),class:p([e(h).e("icon-btn"),"d-arrow-right"]),onClick:_[9]||(_[9]=d=>ye(!0))},[A(e(ie),null,{default:ee(()=>[A(e(ct))]),_:1})],10,Kn)],2)],2),[[tt,q.value!=="time"]]),E("div",{class:p(e(h).e("content")),onKeydown:st},[q.value==="date"?(C(),me(_t,{key:0,ref_key:"currentViewRef",ref:N,"selection-mode":e(u),date:f.value,"parsed-value":o.parsedValue,"disabled-date":e(c),"cell-class-name":e(i),onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):re("v-if",!0),q.value==="year"?(C(),me(Nn,{key:1,ref_key:"currentViewRef",ref:N,date:f.value,"disabled-date":e(c),"parsed-value":o.parsedValue,onPick:X},null,8,["date","disabled-date","parsed-value"])):re("v-if",!0),q.value==="month"?(C(),me(Mt,{key:2,ref_key:"currentViewRef",ref:N,date:f.value,"parsed-value":o.parsedValue,"disabled-date":e(c),onPick:W},null,8,["date","parsed-value","disabled-date"])):re("v-if",!0)],34)],2)],2),Ve(E("div",{class:p(e(h).e("footer"))},[Ve(A(e(ht),{text:"",size:"small",class:p(e(h).e("link-btn")),disabled:e(Ze),onClick:Ye},{default:ee(()=>[He(le(e(S)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[tt,e(u)!=="dates"]]),A(e(ht),{plain:"",size:"small",class:p(e(h).e("link-btn")),disabled:e($e),onClick:Oe},{default:ee(()=>[He(le(e(S)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[tt,e(ce)&&q.value==="date"]])],2))}});var Wn=Ne(Un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const zn=ge({...na,...la}),Hn=s=>{const{emit:r}=jt(),l=Vt(),n=Ht();return g=>{const k=ut(g.value)?g.value():g.value;if(k){r("pick",[K(k[0]).locale(s.value),K(k[1]).locale(s.value)]);return}g.onClick&&g.onClick({attrs:l,slots:n,emit:r})}},ra=(s,{defaultValue:r,leftDate:l,rightDate:n,unit:h,onParsedValueChanged:g})=>{const{emit:k}=jt(),{pickerNs:I}=je(Ot),S=Ce("date-range-picker"),{t:P,lang:D}=Te(),$=Hn(D),b=j(),c=j(),i=j({endDate:null,selecting:!1}),v=H=>{i.value=H},z=(H=!1)=>{const T=e(b),B=e(c);St([T,B])&&k("pick",[T,B],H)},N=H=>{i.value.selecting=H,H||(i.value.endDate=null)},f=()=>{const[H,T]=oa(e(r),{lang:e(D),unit:h,unlinkPanels:s.unlinkPanels});b.value=void 0,c.value=void 0,l.value=H,n.value=T};return Pe(r,H=>{H&&f()},{immediate:!0}),Pe(()=>s.parsedValue,H=>{if(he(H)&&H.length===2){const[T,B]=H;b.value=T,l.value=T,c.value=B,g(e(b),e(c))}else f()},{immediate:!0}),{minDate:b,maxDate:c,rangeState:i,lang:D,ppNs:I,drpNs:S,handleChangeRange:v,handleRangeConfirm:z,handleShortcutClick:$,onSelect:N,t:P}},jn=["onClick"],qn=["aria-label"],Gn=["aria-label"],Jn=["disabled","aria-label"],Qn=["disabled","aria-label"],Xn=["disabled","aria-label"],Zn=["disabled","aria-label"],el=["aria-label"],tl=["aria-label"],vt="month",al=Se({__name:"panel-date-range",props:zn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(s,{emit:r}){const l=s,n=je("EP_PICKER_BASE"),{disabledDate:h,cellClassName:g,format:k,defaultTime:I,clearable:S}=n.props,P=lt(n.props,"shortcuts"),D=lt(n.props,"defaultValue"),{lang:$}=Te(),b=j(K().locale($.value)),c=j(K().locale($.value).add(1,vt)),{minDate:i,maxDate:v,rangeState:z,ppNs:N,drpNs:f,handleChangeRange:H,handleRangeConfirm:T,handleShortcutClick:B,onSelect:Y,t:F}=ra(l,{defaultValue:D,leftDate:b,rightDate:c,unit:vt,onParsedValueChanged:_}),O=j({min:null,max:null}),L=j({min:null,max:null}),Q=V(()=>`${b.value.year()} ${F("el.datepicker.year")} ${F(`el.datepicker.month${b.value.month()+1}`)}`),Z=V(()=>`${c.value.year()} ${F("el.datepicker.year")} ${F(`el.datepicker.month${c.value.month()+1}`)}`),de=V(()=>b.value.year()),U=V(()=>b.value.month()),te=V(()=>c.value.year()),be=V(()=>c.value.month()),ye=V(()=>!!P.value.length),q=V(()=>O.value.min!==null?O.value.min:i.value?i.value.format(y.value):""),R=V(()=>O.value.max!==null?O.value.max:v.value||i.value?(v.value||i.value).format(y.value):""),a=V(()=>L.value.min!==null?L.value.min:i.value?i.value.format(m.value):""),u=V(()=>L.value.max!==null?L.value.max:v.value||i.value?(v.value||i.value).format(m.value):""),m=V(()=>Jt(k)),y=V(()=>Gt(k)),W=d=>St(d)&&(h?!h(d[0].toDate())&&!h(d[1].toDate()):!0),X=()=>{b.value=b.value.subtract(1,"year"),l.unlinkPanels||(c.value=b.value.add(1,"month")),pe("year")},se=()=>{b.value=b.value.subtract(1,"month"),l.unlinkPanels||(c.value=b.value.add(1,"month")),pe("month")},ue=()=>{l.unlinkPanels?c.value=c.value.add(1,"year"):(b.value=b.value.add(1,"year"),c.value=b.value.add(1,"month")),pe("year")},ce=()=>{l.unlinkPanels?c.value=c.value.add(1,"month"):(b.value=b.value.add(1,"month"),c.value=b.value.add(1,"month")),pe("month")},$e=()=>{b.value=b.value.add(1,"year"),pe("year")},Oe=()=>{b.value=b.value.add(1,"month"),pe("month")},Ze=()=>{c.value=c.value.subtract(1,"year"),pe("year")},Ye=()=>{c.value=c.value.subtract(1,"month"),pe("month")},pe=d=>{r("panel-change",[b.value.toDate(),c.value.toDate()],d)},Ie=V(()=>{const d=(U.value+1)%12,M=U.value+1>=12?1:0;return l.unlinkPanels&&new Date(de.value+M,d)<new Date(te.value,be.value)}),Re=V(()=>l.unlinkPanels&&te.value*12+be.value-(de.value*12+U.value+1)>=12),Fe=V(()=>!(i.value&&v.value&&!z.value.selecting&&St([i.value,v.value]))),ke=V(()=>l.type==="datetime"||l.type==="datetimerange"),Be=(d,M)=>{if(d)return I?K(I[M]||I).locale($.value).year(d.year()).month(d.month()).date(d.date()):d},et=(d,M=!0)=>{const t=d.minDate,w=d.maxDate,G=Be(t,0),oe=Be(w,1);v.value===oe&&i.value===G||(r("calendar-change",[t.toDate(),w&&w.toDate()]),v.value=oe,i.value=G,!(!M||ke.value)&&T())},De=j(!1),J=j(!1),qe=()=>{De.value=!1},Le=()=>{J.value=!1},Ke=(d,M)=>{O.value[M]=d;const t=K(d,y.value).locale($.value);if(t.isValid()){if(h&&h(t.toDate()))return;M==="min"?(b.value=t,i.value=(i.value||b.value).year(t.year()).month(t.month()).date(t.date()),!l.unlinkPanels&&(!v.value||v.value.isBefore(i.value))&&(c.value=t.add(1,"month"),v.value=i.value.add(1,"month"))):(c.value=t,v.value=(v.value||c.value).year(t.year()).month(t.month()).date(t.date()),!l.unlinkPanels&&(!i.value||i.value.isAfter(v.value))&&(b.value=t.subtract(1,"month"),i.value=v.value.subtract(1,"month")))}},Ee=(d,M)=>{O.value[M]=null},Ge=(d,M)=>{L.value[M]=d;const t=K(d,m.value).locale($.value);t.isValid()&&(M==="min"?(De.value=!0,i.value=(i.value||b.value).hour(t.hour()).minute(t.minute()).second(t.second()),(!v.value||v.value.isBefore(i.value))&&(v.value=i.value)):(J.value=!0,v.value=(v.value||c.value).hour(t.hour()).minute(t.minute()).second(t.second()),c.value=v.value,v.value&&v.value.isBefore(i.value)&&(i.value=v.value)))},Ue=(d,M)=>{L.value[M]=null,M==="min"?(b.value=i.value,De.value=!1):(c.value=v.value,J.value=!1)},We=(d,M,t)=>{L.value.min||(d&&(b.value=d,i.value=(i.value||b.value).hour(d.hour()).minute(d.minute()).second(d.second())),t||(De.value=M),(!v.value||v.value.isBefore(i.value))&&(v.value=i.value,c.value=d))},st=(d,M,t)=>{L.value.max||(d&&(c.value=d,v.value=(v.value||c.value).hour(d.hour()).minute(d.minute()).second(d.second())),t||(J.value=M),v.value&&v.value.isBefore(i.value)&&(i.value=v.value))},Je=()=>{b.value=oa(e(D),{lang:e($),unit:"month",unlinkPanels:l.unlinkPanels})[0],c.value=b.value.add(1,"month"),r("pick",null)},ze=d=>he(d)?d.map(M=>M.format(k)):d.format(k),o=d=>he(d)?d.map(M=>K(M,k).locale($.value)):K(d,k).locale($.value);function _(d,M){if(l.unlinkPanels&&M){const t=(d==null?void 0:d.year())||0,w=(d==null?void 0:d.month())||0,G=M.year(),oe=M.month();c.value=t===G&&w===oe?M.add(1,vt):M}else c.value=b.value.add(1,vt),M&&(c.value=c.value.hour(M.hour()).minute(M.minute()).second(M.second()))}return r("set-picker-option",["isValidValue",W]),r("set-picker-option",["parseUserInput",o]),r("set-picker-option",["formatToString",ze]),r("set-picker-option",["handleClear",Je]),(d,M)=>(C(),x("div",{class:p([e(N).b(),e(f).b(),{"has-sidebar":d.$slots.sidebar||e(ye),"has-time":e(ke)}])},[E("div",{class:p(e(N).e("body-wrapper"))},[rt(d.$slots,"sidebar",{class:p(e(N).e("sidebar"))}),e(ye)?(C(),x("div",{key:0,class:p(e(N).e("sidebar"))},[(C(!0),x(fe,null,we(e(P),(t,w)=>(C(),x("button",{key:w,type:"button",class:p(e(N).e("shortcut")),onClick:G=>e(B)(t)},le(t.text),11,jn))),128))],2)):re("v-if",!0),E("div",{class:p(e(N).e("body"))},[e(ke)?(C(),x("div",{key:0,class:p(e(f).e("time-header"))},[E("span",{class:p(e(f).e("editors-wrap"))},[E("span",{class:p(e(f).e("time-picker-wrap"))},[A(e(Qe),{size:"small",disabled:e(z).selecting,placeholder:e(F)("el.datepicker.startDate"),class:p(e(f).e("editor")),"model-value":e(q),"validate-event":!1,onInput:M[0]||(M[0]=t=>Ke(t,"min")),onChange:M[1]||(M[1]=t=>Ee(t,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ve((C(),x("span",{class:p(e(f).e("time-picker-wrap"))},[A(e(Qe),{size:"small",class:p(e(f).e("editor")),disabled:e(z).selecting,placeholder:e(F)("el.datepicker.startTime"),"model-value":e(a),"validate-event":!1,onFocus:M[2]||(M[2]=t=>De.value=!0),onInput:M[3]||(M[3]=t=>Ge(t,"min")),onChange:M[4]||(M[4]=t=>Ue(t,"min"))},null,8,["class","disabled","placeholder","model-value"]),A(e(Ct),{visible:De.value,format:e(m),"datetime-role":"start","parsed-value":b.value,onPick:We},null,8,["visible","format","parsed-value"])],2)),[[e(Dt),qe]])],2),E("span",null,[A(e(ie),null,{default:ee(()=>[A(e(pt))]),_:1})]),E("span",{class:p([e(f).e("editors-wrap"),"is-right"])},[E("span",{class:p(e(f).e("time-picker-wrap"))},[A(e(Qe),{size:"small",class:p(e(f).e("editor")),disabled:e(z).selecting,placeholder:e(F)("el.datepicker.endDate"),"model-value":e(R),readonly:!e(i),"validate-event":!1,onInput:M[5]||(M[5]=t=>Ke(t,"max")),onChange:M[6]||(M[6]=t=>Ee(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ve((C(),x("span",{class:p(e(f).e("time-picker-wrap"))},[A(e(Qe),{size:"small",class:p(e(f).e("editor")),disabled:e(z).selecting,placeholder:e(F)("el.datepicker.endTime"),"model-value":e(u),readonly:!e(i),"validate-event":!1,onFocus:M[7]||(M[7]=t=>e(i)&&(J.value=!0)),onInput:M[8]||(M[8]=t=>Ge(t,"max")),onChange:M[9]||(M[9]=t=>Ue(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),A(e(Ct),{"datetime-role":"end",visible:J.value,format:e(m),"parsed-value":c.value,onPick:st},null,8,["visible","format","parsed-value"])],2)),[[e(Dt),Le]])],2)],2)):re("v-if",!0),E("div",{class:p([[e(N).e("content"),e(f).e("content")],"is-left"])},[E("div",{class:p(e(f).e("header"))},[E("button",{type:"button",class:p([e(N).e("icon-btn"),"d-arrow-left"]),"aria-label":e(F)("el.datepicker.prevYear"),onClick:X},[A(e(ie),null,{default:ee(()=>[A(e(it))]),_:1})],10,qn),E("button",{type:"button",class:p([e(N).e("icon-btn"),"arrow-left"]),"aria-label":e(F)("el.datepicker.prevMonth"),onClick:se},[A(e(ie),null,{default:ee(()=>[A(e(wt))]),_:1})],10,Gn),d.unlinkPanels?(C(),x("button",{key:0,type:"button",disabled:!e(Re),class:p([[e(N).e("icon-btn"),{"is-disabled":!e(Re)}],"d-arrow-right"]),"aria-label":e(F)("el.datepicker.nextYear"),onClick:$e},[A(e(ie),null,{default:ee(()=>[A(e(ct))]),_:1})],10,Jn)):re("v-if",!0),d.unlinkPanels?(C(),x("button",{key:1,type:"button",disabled:!e(Ie),class:p([[e(N).e("icon-btn"),{"is-disabled":!e(Ie)}],"arrow-right"]),"aria-label":e(F)("el.datepicker.nextMonth"),onClick:Oe},[A(e(ie),null,{default:ee(()=>[A(e(pt))]),_:1})],10,Qn)):re("v-if",!0),E("div",null,le(e(Q)),1)],2),A(_t,{"selection-mode":"range",date:b.value,"min-date":e(i),"max-date":e(v),"range-state":e(z),"disabled-date":e(h),"cell-class-name":e(g),onChangerange:e(H),onPick:et,onSelect:e(Y)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),E("div",{class:p([[e(N).e("content"),e(f).e("content")],"is-right"])},[E("div",{class:p(e(f).e("header"))},[d.unlinkPanels?(C(),x("button",{key:0,type:"button",disabled:!e(Re),class:p([[e(N).e("icon-btn"),{"is-disabled":!e(Re)}],"d-arrow-left"]),"aria-label":e(F)("el.datepicker.prevYear"),onClick:Ze},[A(e(ie),null,{default:ee(()=>[A(e(it))]),_:1})],10,Xn)):re("v-if",!0),d.unlinkPanels?(C(),x("button",{key:1,type:"button",disabled:!e(Ie),class:p([[e(N).e("icon-btn"),{"is-disabled":!e(Ie)}],"arrow-left"]),"aria-label":e(F)("el.datepicker.prevMonth"),onClick:Ye},[A(e(ie),null,{default:ee(()=>[A(e(wt))]),_:1})],10,Zn)):re("v-if",!0),E("button",{type:"button","aria-label":e(F)("el.datepicker.nextYear"),class:p([e(N).e("icon-btn"),"d-arrow-right"]),onClick:ue},[A(e(ie),null,{default:ee(()=>[A(e(ct))]),_:1})],10,el),E("button",{type:"button",class:p([e(N).e("icon-btn"),"arrow-right"]),"aria-label":e(F)("el.datepicker.nextMonth"),onClick:ce},[A(e(ie),null,{default:ee(()=>[A(e(pt))]),_:1})],10,tl),E("div",null,le(e(Z)),1)],2),A(_t,{"selection-mode":"range",date:c.value,"min-date":e(i),"max-date":e(v),"range-state":e(z),"disabled-date":e(h),"cell-class-name":e(g),onChangerange:e(H),onPick:et,onSelect:e(Y)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(ke)?(C(),x("div",{key:0,class:p(e(N).e("footer"))},[e(S)?(C(),me(e(ht),{key:0,text:"",size:"small",class:p(e(N).e("link-btn")),onClick:Je},{default:ee(()=>[He(le(e(F)("el.datepicker.clear")),1)]),_:1},8,["class"])):re("v-if",!0),A(e(ht),{plain:"",size:"small",class:p(e(N).e("link-btn")),disabled:e(Fe),onClick:M[10]||(M[10]=t=>e(T)(!1))},{default:ee(()=>[He(le(e(F)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):re("v-if",!0)],2))}});var nl=Ne(al,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const ll=ge({...la}),sl=["pick","set-picker-option","calendar-change"],ol=({unlinkPanels:s,leftDate:r,rightDate:l})=>{const{t:n}=Te(),h=()=>{r.value=r.value.subtract(1,"year"),s.value||(l.value=l.value.subtract(1,"year"))},g=()=>{s.value||(r.value=r.value.add(1,"year")),l.value=l.value.add(1,"year")},k=()=>{r.value=r.value.add(1,"year")},I=()=>{l.value=l.value.subtract(1,"year")},S=V(()=>`${r.value.year()} ${n("el.datepicker.year")}`),P=V(()=>`${l.value.year()} ${n("el.datepicker.year")}`),D=V(()=>r.value.year()),$=V(()=>l.value.year()===r.value.year()?r.value.year()+1:l.value.year());return{leftPrevYear:h,rightNextYear:g,leftNextYear:k,rightPrevYear:I,leftLabel:S,rightLabel:P,leftYear:D,rightYear:$}},rl=["onClick"],ul=["disabled"],il=["disabled"],ft="year",cl=Se({name:"DatePickerMonthRange"}),dl=Se({...cl,props:ll,emits:sl,setup(s,{emit:r}){const l=s,{lang:n}=Te(),h=je("EP_PICKER_BASE"),{shortcuts:g,disabledDate:k,format:I}=h.props,S=lt(h.props,"defaultValue"),P=j(K().locale(n.value)),D=j(K().locale(n.value).add(1,ft)),{minDate:$,maxDate:b,rangeState:c,ppNs:i,drpNs:v,handleChangeRange:z,handleRangeConfirm:N,handleShortcutClick:f,onSelect:H}=ra(l,{defaultValue:S,leftDate:P,rightDate:D,unit:ft,onParsedValueChanged:ye}),T=V(()=>!!g.length),{leftPrevYear:B,rightNextYear:Y,leftNextYear:F,rightPrevYear:O,leftLabel:L,rightLabel:Q,leftYear:Z,rightYear:de}=ol({unlinkPanels:lt(l,"unlinkPanels"),leftDate:P,rightDate:D}),U=V(()=>l.unlinkPanels&&de.value>Z.value+1),te=(q,R=!0)=>{const a=q.minDate,u=q.maxDate;b.value===u&&$.value===a||(r("calendar-change",[a.toDate(),u&&u.toDate()]),b.value=u,$.value=a,R&&N())},be=q=>q.map(R=>R.format(I));function ye(q,R){if(l.unlinkPanels&&R){const a=(q==null?void 0:q.year())||0,u=R.year();D.value=a===u?R.add(1,ft):R}else D.value=P.value.add(1,ft)}return r("set-picker-option",["formatToString",be]),(q,R)=>(C(),x("div",{class:p([e(i).b(),e(v).b(),{"has-sidebar":!!q.$slots.sidebar||e(T)}])},[E("div",{class:p(e(i).e("body-wrapper"))},[rt(q.$slots,"sidebar",{class:p(e(i).e("sidebar"))}),e(T)?(C(),x("div",{key:0,class:p(e(i).e("sidebar"))},[(C(!0),x(fe,null,we(e(g),(a,u)=>(C(),x("button",{key:u,type:"button",class:p(e(i).e("shortcut")),onClick:m=>e(f)(a)},le(a.text),11,rl))),128))],2)):re("v-if",!0),E("div",{class:p(e(i).e("body"))},[E("div",{class:p([[e(i).e("content"),e(v).e("content")],"is-left"])},[E("div",{class:p(e(v).e("header"))},[E("button",{type:"button",class:p([e(i).e("icon-btn"),"d-arrow-left"]),onClick:R[0]||(R[0]=(...a)=>e(B)&&e(B)(...a))},[A(e(ie),null,{default:ee(()=>[A(e(it))]),_:1})],2),q.unlinkPanels?(C(),x("button",{key:0,type:"button",disabled:!e(U),class:p([[e(i).e("icon-btn"),{[e(i).is("disabled")]:!e(U)}],"d-arrow-right"]),onClick:R[1]||(R[1]=(...a)=>e(F)&&e(F)(...a))},[A(e(ie),null,{default:ee(()=>[A(e(ct))]),_:1})],10,ul)):re("v-if",!0),E("div",null,le(e(L)),1)],2),A(Mt,{"selection-mode":"range",date:P.value,"min-date":e($),"max-date":e(b),"range-state":e(c),"disabled-date":e(k),onChangerange:e(z),onPick:te,onSelect:e(H)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),E("div",{class:p([[e(i).e("content"),e(v).e("content")],"is-right"])},[E("div",{class:p(e(v).e("header"))},[q.unlinkPanels?(C(),x("button",{key:0,type:"button",disabled:!e(U),class:p([[e(i).e("icon-btn"),{"is-disabled":!e(U)}],"d-arrow-left"]),onClick:R[2]||(R[2]=(...a)=>e(O)&&e(O)(...a))},[A(e(ie),null,{default:ee(()=>[A(e(it))]),_:1})],10,il)):re("v-if",!0),E("button",{type:"button",class:p([e(i).e("icon-btn"),"d-arrow-right"]),onClick:R[3]||(R[3]=(...a)=>e(Y)&&e(Y)(...a))},[A(e(ie),null,{default:ee(()=>[A(e(ct))]),_:1})],2),E("div",null,le(e(Q)),1)],2),A(Mt,{"selection-mode":"range",date:D.value,"min-date":e($),"max-date":e(b),"range-state":e(c),"disabled-date":e(k),onChangerange:e(z),onPick:te,onSelect:e(H)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var vl=Ne(dl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const fl=function(s){switch(s){case"daterange":case"datetimerange":return nl;case"monthrange":return vl;default:return Wn}};K.extend(Va);K.extend(Ta);K.extend($a);K.extend(Oa);K.extend(Ia);K.extend(an);K.extend(ln);K.extend(on);var pl=Se({name:"ElDatePicker",install:null,props:rn,emits:["update:modelValue"],setup(s,{expose:r,emit:l,slots:n}){const h=Ce("picker-panel");kt("ElPopperOptions",Ra(lt(s,"popperOptions"))),kt(Ot,{slots:n,pickerNs:h});const g=j();r({focus:(S=!0)=>{var P;(P=g.value)==null||P.focus(S)},handleOpen:()=>{var S;(S=g.value)==null||S.handleOpen()},handleClose:()=>{var S;(S=g.value)==null||S.handleClose()}});const I=S=>{l("update:modelValue",S)};return()=>{var S;const P=(S=s.format)!=null?S:Ea[s.type]||at,D=fl(s.type);return A(Ka,Wt(s,{format:P,type:s.type,ref:g,"onUpdate:modelValue":I}),{default:$=>A(D,$,null),"range-separator":n["range-separator"]})}}});const mt=pl;mt.install=s=>{s.component(mt.name,mt)};const yl=mt;export{yl as E,Xe as c,gl as u};
