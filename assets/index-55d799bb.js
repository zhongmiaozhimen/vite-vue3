import{J as y,r as c,A as x,H as g,l as t,v as W,K as k,_ as $,L as S,M as D,f as z,o as _,h as B,m,c as M,d as R,F as A,g as C}from"./index-9e9177e2.js";const F={props:{data:{type:Array,default:()=>[]}},setup(u,{slots:o}){y("column",h);const a=c(null),e=c([]),r=c([]);let l=0;const d=100,i=c(!1),p=c(!1);e.value=u.data.map((s,n)=>({id:`row-${Date().now}-${n}`,data:s}));function h(s){const n=s.minWidth||d;r.value.push({id:`column-${Date().now}-${r.value.length}`,...s,minWidth:n}),l+=n}const w=()=>{a.value.scrollWidth>a.value.clientWidth?i.value=!0:i.value=!1,a.value.scrollHeight>a.value.clientHeight?p.value=!0:p.value=!1};let v=!1;const f=new ResizeObserver(()=>{v||(v=!0,requestAnimationFrame(()=>{v=!1}),w())});return x(()=>{f.observe(a.value)}),g(()=>{f.unobserve(a.value)}),()=>t("div",{class:["table",i.value&&"horizontal-scroll",p.value&&"vertical-scroll"]},[W(t("div",null,[o.default()]),[[k,!1]]),t("div",{ref:a,class:"table-inner"},[t("div",{class:"table-content",style:{"min-width":l+"px"}},[t("div",{class:"table-header"},[t("div",{class:"table-row"},[r.value.map(s=>t("div",{key:s.id,class:"table-cell",style:{"min-width":s.minWidth+"px"}},[t("div",{class:"cell-inner"},[s.label])]))])]),t("div",{class:"table-body"},[e.value.map(s=>t("div",{key:s.id,class:"table-row"},[r.value.map(n=>t("div",{key:n.id,class:"table-cell",style:{"min-width":n.minWidth+"px"}},[t("div",{class:"cell-inner"},[n.cellRender({row:s.data,column:n})])]))]))])])])])}};const H=$(F,[["__scopeId","data-v-16694368"]]),b={__name:"table-column",props:{prop:{type:String,default:""},label:{type:String,default:""},minWidth:{type:Number,default:0}},setup(u){const o=u,a=S(),e=D("column"),r={...o,cellRender:l=>{if(a.default)return a.default(l);{const{row:d,column:i}=l;return i.prop?d[i.prop]:""}}};return e(r),(l,d)=>z(l.$slots,"default")}},E={__name:"index",setup(u){const o=[],a=[];for(let e=1;e<=8;e++)o.push({prop:`column-${e}`,label:"title-"+e});for(let e=1;e<=15;e++){let r={};o.forEach(l=>{r[l.prop]=e}),a.push(r)}return(e,r)=>(_(),B(H,{data:a},{default:m(()=>[(_(),M(A,null,R(o,l=>t(b,{key:l.prop,prop:l.prop,label:l.label},null,8,["prop","label"])),64)),t(b,{label:"操作",prop:"opt"},{default:m(({row:l})=>[C("编辑")]),_:1})]),_:1}))}};export{E as default};
