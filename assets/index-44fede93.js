import{_ as W,r as L,o as I,c as Y,F as G,m as O,n as N,t as E,a as C,g as K,b as X,d as V,p as R,f as Z}from"./index-e0d98c21.js";const tt=["onMousedown","onTouchstart","onTouchmove","onTouchend"],f=50,k=10,ot={__name:"list-drag",setup(S){const u=L("text"),e=L([]);["a","b","c","d","e","f","g"].forEach((s,a)=>{e.value.push({id:`${Date.now()}-${a}`,index:a,top:10+(f+k)*a,transition:"",zIndex:0,constant:s})});const g=e.value.length,y=g*f+(g-1)*k+10*2;let b=0,p=0,z=0;function M(s,a){const c=a-b;let l=z+c;const H=0,t=y-f;l<H?l=H:l>t&&(l=t),s.top=l;const n=s.top+f/2;for(let o=0;o<e.value.length;o++)if(s.index!==e.value[o].index&&n>e.value[o].top&&n<e.value[o].top+f){s.index=e.value[o].index,e.value[o].index=p,e.value[o].top=p*(f+k)+10,e.value[o].transition="top 0.3s linear 0s",p=s.index;break}}const m=function(s,a){u.value="none",b=s.clientY,p=a.index,z=a.top,i(a),w(a)};function i(s){document.onmousemove=function(a){s.zIndex=99,s.transition="",M(s,a.clientY)}}function w(s){document.onmouseup=function(){s.top=p*(f+k)+10,s.zIndex=0,u.value="text",document.onmousemove=null}}function $(s,a){u.value="none",b=s.targetTouches[0].clientY,p=a.index,z=a.top}function F(s,a){a.zIndex=99,a.transition="";const c=s.targetTouches[0];M(a,c.clientY)}function U(s){s.top=p*(f+k)+10,s.zIndex=0,u.value="text"}return(s,a)=>(I(),Y("div",{class:"drag-list",style:N({height:y+"px",userSelect:u.value})},[(I(!0),Y(G,null,O(e.value,c=>(I(),Y("div",{key:c.id,class:"drag-list-item",style:N({height:f+"px",top:c.top+"px",transition:c.transition,"z-index":c.zIndex}),onMousedown:l=>m(l,c),onTouchstart:l=>$(l,c),onTouchmove:l=>F(l,c),onTouchend:l=>U(c)},E(c.constant)+" --- top: "+E(c.top.toFixed()),45,tt))),128))],4))}},et=W(ot,[["__scopeId","data-v-08843f33"]]);const nt=["onMousedown","onTouchstart","onTouchmove","onTouchend"],v=100,h=100,_=10,r=3,st={__name:"grid-drag",setup(S){const u=L("text"),e=L([]),T=["a","b","c","d","e","f","g"];let g=0,y=0;T.forEach((t,n)=>{g=10+(v+_)*(n%r),y=10+(h+_)*Math.floor(n/r),e.value.push({id:`${Date.now()}-${n}`,index:n,left:g,top:y,transition:"",zIndex:0,constant:t})});const b=e.value.length,p=r*v+(r-1)*_+20,z=Math.ceil(b/r)*h+(r-1)*_+20;let M=0,m=0,i=0,w=0,$=0;function F(t,n,o){const x=n-M,Q=o-m;let D=w+x,P=$+Q;const B=0,j=p-v,q=z-h;D<B?D=B:D>j&&(D=j),P<B?P=B:P>q&&(P=q),t.left=D,t.top=P;const A=t.left+v/2,J=t.top+h/2;for(let d=0;d<e.value.length;d++)if(t.index!==e.value[d].index&&A>e.value[d].left&&A<e.value[d].left+v&&J>e.value[d].top&&J<e.value[d].top+h){t.index=e.value[d].index,e.value[d].index=i,e.value[d].left=(v+_)*(i%r)+10,e.value[d].top=(h+_)*Math.floor(i/r)+10,e.value[d].transition="left 0.3s linear,top 0.3s linear",i=t.index;break}}const U=function(t,n){u.value="none",M=t.clientX,m=t.clientY,i=n.index,w=n.left,$=n.top,s(n),a(n)};function s(t){document.onmousemove=function(n){t.zIndex=99,t.transition="",F(t,n.clientX,n.clientY)}}function a(t){document.onmouseup=function(){t.left=(v+_)*(i%r)+10,t.top=(h+_)*Math.floor(i/r)+10,t.zIndex=0,u.value="text",document.onmousemove=null}}function c(t,n){u.value="none";const o=t.targetTouches[0];M=o.clientX,m=o.clientY,i=n.index,w=n.left,$=n.top}function l(t,n){n.zIndex=99,n.transition="";const o=t.targetTouches[0];F(n,o.clientX,o.clientY)}function H(t){t.left=(v+_)*(i%r)+10,t.top=(h+_)*Math.floor(i/r)+10,t.zIndex=0,u.value="text"}return(t,n)=>(I(),Y("div",{class:"drag-list",style:N({width:p+"px",height:z+"px",userSelect:u.value})},[(I(!0),Y(G,null,O(e.value,o=>(I(),Y("div",{key:o.id,class:"drag-list-item",style:N({width:v+"px",height:h+"px",top:o.top+"px",left:o.left+"px",transition:o.transition,"z-index":o.zIndex}),onMousedown:x=>U(x,o),onTouchstart:x=>c(x,o),onTouchmove:x=>l(x,o),onTouchend:x=>H(o)},[C("div",null,E(o.constant),1),C("div",null,"left: "+E(o.left.toFixed()),1),C("div",null,"top: "+E(o.top.toFixed()),1)],44,nt))),128))],4))}},at=W(st,[["__scopeId","data-v-cb7f4ef2"]]);const ct=S=>(R("data-v-ff6ce70d"),S=S(),Z(),S),lt=ct(()=>C("div",{class:"title"},"元素拖拽",-1)),ut={__name:"index",setup(S){return(u,e)=>{const T=K("el-tab-pane"),g=K("el-tabs");return I(),Y(G,null,[lt,X(g,{"model-value":"1"},{default:V(()=>[X(T,{label:"列表",name:"1"},{default:V(()=>[X(et)]),_:1}),X(T,{label:"网格",name:"2",lazy:""},{default:V(()=>[X(at)]),_:1})]),_:1})],64)}}},dt=W(ut,[["__scopeId","data-v-ff6ce70d"]]);export{dt as default};
