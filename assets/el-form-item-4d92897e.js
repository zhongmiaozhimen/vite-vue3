import{bH as Re,bI as ke,N as D,bj as ve,Q as I,bq as ze,ak as X,S as he,r as E,U as p,M as O,aN as be,V as K,s as k,aT as Te,q as ge,ao as ye,az as _e,bJ as le,o as z,c as Se,y as V,x as A,G as m,L as se,aI as Fe,i as P,bK as Z,a7 as De,C as we,D as Ne,ab as Ke,a8 as Ge,b as T,F as Ue,z as We,am as He,ax as Je,bL as Qe,W as ie,bM as Y,d as R,h as $e,aA as Ce,n as ee,e as Ye,t as ue,j as de,a as ce,bN as Xe,bO as Ze,$ as Ie,ap as et,a5 as B,al as fe,aH as tt}from"./index-0f7d31d1.js";import{r as lt}from"./el-row-1b4ab8d1.js";function te(){if(!arguments.length)return[];var a=arguments[0];return Re(a)?a:[a]}var st=4;function me(a){return ke(a,st)}const rt=D({size:{type:String,values:ve},disabled:Boolean}),at=D({...rt,model:Object,rules:{type:I(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),ot={validate:(a,d,e)=>(ze(a)||X(a))&&he(d)&&X(e)};function nt(){const a=E([]),d=p(()=>{if(!a.value.length)return"0";const c=Math.max(...a.value);return c?`${c}px`:""});function e(c){const s=a.value.indexOf(c);return s===-1&&d.value,s}function o(c,s){if(c&&s){const v=e(s);a.value.splice(v,1,c)}else c&&a.value.push(c)}function t(c){const s=e(c);s>-1&&a.value.splice(s,1)}return{autoLabelWidth:d,registerLabelWidth:o,deregisterLabelWidth:t}}const q=(a,d)=>{const e=te(d);return e.length>0?a.filter(o=>o.prop&&e.includes(o.prop)):a},it="ElForm",ut=O({name:it}),dt=O({...ut,props:at,emits:ot,setup(a,{expose:d,emit:e}){const o=a,t=[],c=be(),s=K("form"),v=p(()=>{const{labelPosition:u,inline:f}=o;return[s.b(),s.m(c.value||"default"),{[s.m(`label-${u}`)]:u,[s.m("inline")]:f}]}),w=u=>{t.push(u)},i=u=>{u.prop&&t.splice(t.indexOf(u),1)},r=(u=[])=>{o.model&&q(t,u).forEach(f=>f.resetField())},b=(u=[])=>{q(t,u).forEach(f=>f.clearValidate())},y=p(()=>!!o.model),C=u=>{if(t.length===0)return[];const f=q(t,u);return f.length?f:[]},x=async u=>W(void 0,u),N=async(u=[])=>{if(!y.value)return!1;const f=C(u);if(f.length===0)return!0;let _={};for(const S of f)try{await S.validate("")}catch($){_={..._,...$}}return Object.keys(_).length===0?!0:Promise.reject(_)},W=async(u=[],f)=>{const _=!Fe(f);try{const S=await N(u);return S===!0&&(f==null||f(S)),S}catch(S){if(S instanceof Error)throw S;const $=S;return o.scrollToError&&L(Object.keys($)[0]),f==null||f(!1,$),_&&Promise.reject($)}},L=u=>{var f;const _=q(t,u)[0];_&&((f=_.$el)==null||f.scrollIntoView(o.scrollIntoViewOptions))};return k(()=>o.rules,()=>{o.validateOnRuleChange&&x().catch(u=>Te())},{deep:!0}),ge(le,ye({..._e(o),emit:e,resetFields:r,clearValidate:b,validateField:W,addField:w,removeField:i,...nt()})),d({validate:x,validateField:W,resetFields:r,clearValidate:b,scrollToField:L}),(u,f)=>(z(),Se("form",{class:A(m(v))},[V(u.$slots,"default")],2))}});var ct=se(dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);const ft=["","error","validating","success"],mt=D({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:I([String,Array])},required:{type:Boolean,default:void 0},rules:{type:I([Object,Array])},error:String,validateStatus:{type:String,values:ft},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:ve}}),pe="ElLabelWrap";var pt=O({name:pe,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(a,{slots:d}){const e=P(le,void 0),o=P(Z);o||De(pe,"usage: <el-form-item><label-wrap /></el-form-item>");const t=K("form"),c=E(),s=E(0),v=()=>{var r;if((r=c.value)!=null&&r.firstElementChild){const b=window.getComputedStyle(c.value.firstElementChild).width;return Math.ceil(Number.parseFloat(b))}else return 0},w=(r="update")=>{We(()=>{d.default&&a.isAutoWidth&&(r==="update"?s.value=v():r==="remove"&&(e==null||e.deregisterLabelWidth(s.value)))})},i=()=>w("update");return we(()=>{i()}),Ne(()=>{w("remove")}),Ke(()=>i()),k(s,(r,b)=>{a.updateAll&&(e==null||e.registerLabelWidth(r,b))}),Ge(p(()=>{var r,b;return(b=(r=c.value)==null?void 0:r.firstElementChild)!=null?b:null}),i),()=>{var r,b;if(!d)return null;const{isAutoWidth:y}=a;if(y){const C=e==null?void 0:e.autoLabelWidth,x=o==null?void 0:o.hasLabel,N={};if(x&&C&&C!=="auto"){const W=Math.max(0,Number.parseInt(C,10)-s.value),L=e.labelPosition==="left"?"marginRight":"marginLeft";W&&(N[L]=`${W}px`)}return T("div",{ref:c,class:[t.be("item","label-wrap")],style:N},[(r=d.default)==null?void 0:r.call(d)])}else return T(Ue,{ref:c},[(b=d.default)==null?void 0:b.call(d)])}}});const vt=["role","aria-labelledby"],ht=O({name:"ElFormItem"}),bt=O({...ht,props:mt,setup(a,{expose:d}){const e=a,o=He(),t=P(le,void 0),c=P(Z,void 0),s=be(void 0,{formItem:!1}),v=K("form-item"),w=Je().value,i=E([]),r=E(""),b=Qe(r,100),y=E(""),C=E();let x,N=!1;const W=p(()=>{if((t==null?void 0:t.labelPosition)==="top")return{};const l=ie(e.labelWidth||(t==null?void 0:t.labelWidth)||"");return l?{width:l}:{}}),L=p(()=>{if((t==null?void 0:t.labelPosition)==="top"||t!=null&&t.inline)return{};if(!e.label&&!e.labelWidth&&Ee)return{};const l=ie(e.labelWidth||(t==null?void 0:t.labelWidth)||"");return!e.label&&!o.label?{marginLeft:l}:{}}),u=p(()=>[v.b(),v.m(s.value),v.is("error",r.value==="error"),v.is("validating",r.value==="validating"),v.is("success",r.value==="success"),v.is("required",Me.value||e.required),v.is("no-asterisk",t==null?void 0:t.hideRequiredAsterisk),(t==null?void 0:t.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[v.m("feedback")]:t==null?void 0:t.statusIcon}]),f=p(()=>he(e.inlineMessage)?e.inlineMessage:(t==null?void 0:t.inlineMessage)||!1),_=p(()=>[v.e("error"),{[v.em("error","inline")]:f.value}]),S=p(()=>e.prop?X(e.prop)?e.prop:e.prop.join("."):""),$=p(()=>!!(e.label||o.label)),G=p(()=>e.for||i.value.length===1?i.value[0]:void 0),U=p(()=>!G.value&&$.value),Ee=!!c,re=p(()=>{const l=t==null?void 0:t.model;if(!(!l||!e.prop))return Y(l,e.prop).value}),H=p(()=>{const{required:l}=e,n=[];e.rules&&n.push(...te(e.rules));const g=t==null?void 0:t.rules;if(g&&e.prop){const h=Y(g,e.prop).value;h&&n.push(...te(h))}if(l!==void 0){const h=n.map((F,j)=>[F,j]).filter(([F])=>Object.keys(F).includes("required"));if(h.length>0)for(const[F,j]of h)F.required!==l&&(n[j]={...F,required:l});else n.push({required:l})}return n}),Oe=p(()=>H.value.length>0),Le=l=>H.value.filter(g=>!g.trigger||!l?!0:Array.isArray(g.trigger)?g.trigger.includes(l):g.trigger===l).map(({trigger:g,...h})=>h),Me=p(()=>H.value.some(l=>l.required)),je=p(()=>{var l;return b.value==="error"&&e.showMessage&&((l=t==null?void 0:t.showMessage)!=null?l:!0)}),ae=p(()=>`${e.label||""}${(t==null?void 0:t.labelSuffix)||""}`),M=l=>{r.value=l},Ae=l=>{var n,g;const{errors:h,fields:F}=l;(!h||!F)&&console.error(l),M("error"),y.value=h?(g=(n=h==null?void 0:h[0])==null?void 0:n.message)!=null?g:`${e.prop} is required`:"",t==null||t.emit("validate",e.prop,!1,y.value)},Be=()=>{M("success"),t==null||t.emit("validate",e.prop,!0,"")},Ve=async l=>{const n=S.value;return new Ze({[n]:l}).validate({[n]:re.value},{firstFields:!0}).then(()=>(Be(),!0)).catch(h=>(Ae(h),Promise.reject(h)))},oe=async(l,n)=>{if(N||!e.prop)return!1;const g=Fe(n);if(!Oe.value)return n==null||n(!1),!1;const h=Le(l);return h.length===0?(n==null||n(!0),!0):(M("validating"),Ve(h).then(()=>(n==null||n(!0),!0)).catch(F=>{const{fields:j}=F;return n==null||n(!1,j),g?!1:Promise.reject(j)}))},J=()=>{M(""),y.value="",N=!1},ne=async()=>{const l=t==null?void 0:t.model;if(!l||!e.prop)return;const n=Y(l,e.prop);N=!0,n.value=me(x),await We(),J(),N=!1},Pe=l=>{i.value.includes(l)||i.value.push(l)},qe=l=>{i.value=i.value.filter(n=>n!==l)};k(()=>e.error,l=>{y.value=l||"",M(l?"error":"")},{immediate:!0}),k(()=>e.validateStatus,l=>M(l||""));const Q=ye({..._e(e),$el:C,size:s,validateState:r,labelId:w,inputIds:i,isGroup:U,hasLabel:$,addInputId:Pe,removeInputId:qe,resetField:ne,clearValidate:J,validate:oe});return ge(Z,Q),we(()=>{e.prop&&(t==null||t.addField(Q),x=me(re.value))}),Ne(()=>{t==null||t.removeField(Q)}),d({size:s,validateMessage:y,validateState:r,validate:oe,clearValidate:J,resetField:ne}),(l,n)=>{var g;return z(),Se("div",{ref_key:"formItemRef",ref:C,class:A(m(u)),role:m(U)?"group":void 0,"aria-labelledby":m(U)?m(w):void 0},[T(m(pt),{"is-auto-width":m(W).width==="auto","update-all":((g=m(t))==null?void 0:g.labelWidth)==="auto"},{default:R(()=>[m($)?(z(),$e(Ce(m(G)?"label":"div"),{key:0,id:m(w),for:m(G),class:A(m(v).e("label")),style:ee(m(W))},{default:R(()=>[V(l.$slots,"label",{label:m(ae)},()=>[Ye(ue(m(ae)),1)])]),_:3},8,["id","for","class","style"])):de("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ce("div",{class:A(m(v).e("content")),style:ee(m(L))},[V(l.$slots,"default"),T(Xe,{name:`${m(v).namespace.value}-zoom-in-top`},{default:R(()=>[m(je)?V(l.$slots,"error",{key:0,error:y.value},()=>[ce("div",{class:A(m(_))},ue(y.value),3)]):de("v-if",!0)]),_:3},8,["name"])],6)],10,vt)}}});var xe=se(bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Nt=Ie(ct,{FormItem:xe}),Wt=et(xe),gt=D({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:I([Number,Object]),default:()=>B({})},sm:{type:I([Number,Object]),default:()=>B({})},md:{type:I([Number,Object]),default:()=>B({})},lg:{type:I([Number,Object]),default:()=>B({})},xl:{type:I([Number,Object]),default:()=>B({})}}),yt=O({name:"ElCol"}),_t=O({...yt,props:gt,setup(a){const d=a,{gutter:e}=P(lt,{gutter:p(()=>0)}),o=K("col"),t=p(()=>{const s={};return e.value&&(s.paddingLeft=s.paddingRight=`${e.value/2}px`),s}),c=p(()=>{const s=[];return["span","offset","pull","push"].forEach(i=>{const r=d[i];fe(r)&&(i==="span"?s.push(o.b(`${d[i]}`)):r>0&&s.push(o.b(`${i}-${d[i]}`)))}),["xs","sm","md","lg","xl"].forEach(i=>{fe(d[i])?s.push(o.b(`${i}-${d[i]}`)):tt(d[i])&&Object.entries(d[i]).forEach(([r,b])=>{s.push(r!=="span"?o.b(`${i}-${r}-${b}`):o.b(`${i}-${b}`))})}),e.value&&s.push(o.is("guttered")),[o.b(),s]});return(s,v)=>(z(),$e(Ce(s.tag),{class:A(m(c)),style:ee(m(t))},{default:R(()=>[V(s.$slots,"default")]),_:3},8,["class","style"]))}});var St=se(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const $t=Ie(St);export{Nt as E,Wt as a,$t as b};
