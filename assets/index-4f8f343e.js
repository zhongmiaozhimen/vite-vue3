import{_ as C,r as H,a as m,c as y,F,d as q,e as B,t as T,b as k,h as G,i as D,j as V,p as A,l as J}from"./index-73416700.js";const K=["onMousedown","onTouchstart","onTouchmove","onTouchend"],d=50,P=10,O={__name:"list-drag",setup(z){const _=H("text"),t=H([]);["a","b","c","d","e","f","g"].forEach((l,e)=>{t.value.push({id:`${new Date().getTime()}-${e}`,index:e,top:10+(d+P)*e,transition:"",zIndex:0,constant:l})});const g=t.value.length,M=g*d+(g-1)*P+10*2;let w=0,i=0,Y=0;const E=function(l,e){_.value="none",w=l.clientY,i=e.index,Y=e.top,document.onmousemove=function(s){e.zIndex=99,e.transition="";const a=s.clientY-w;let p=Y+a;const I=0,S=M-d;p<I?p=I:p>S&&(p=S),e.top=p;const n=e.top+d/2;for(let c=0;c<t.value.length;c++)if(e.index!==t.value[c].index&&n>t.value[c].top&&n<t.value[c].top+d){e.index=t.value[c].index,t.value[c].index=i,t.value[c].top=i*(d+P)+10,t.value[c].transition="top 0.3s linear 0s",i=e.index;break}},document.onmouseup=function(){e.top=i*(d+P)+10,e.zIndex=0,_.value="text",document.onmousemove=null}};function b(l,e){_.value="none",w=l.clientY,i=e.index,Y=e.top}function o(l,e){e.zIndex=99,e.transition="";const s=l.clientY-w;let a=Y+s;const p=0,I=M-d;a<p?a=p:a>I&&(a=I),e.top=a;const S=e.top+d/2;for(let n=0;n<t.value.length;n++)if(e.index!==t.value[n].index&&S>t.value[n].top&&S<t.value[n].top+d){e.index=t.value[n].index,t.value[n].index=i,t.value[n].top=i*(d+P)+10,t.value[n].transition="top 0.3s linear 0s",i=e.index;break}}function u(l){l.top=i*(d+P)+10,l.zIndex=0,_.value="text"}return(l,e)=>(m(),y("div",{class:"drag-list",style:B({height:M+"px",userSelect:_.value})},[(m(!0),y(F,null,q(t.value,s=>(m(),y("div",{key:s.id,class:"drag-list-item",style:B({height:d+"px",top:s.top+"px",transition:s.transition,"z-index":s.zIndex}),onMousedown:a=>E(a,s),onTouchstart:a=>b(a,s),onTouchmove:a=>o(a,s),onTouchend:a=>u(s)},T(s.constant)+" --- top: "+T(s.top),45,K))),128))],4))}},Q=C(O,[["__scopeId","data-v-0cae2f93"]]);const R=["onMousedown"],x=100,f=100,h=10,v=3,U={__name:"grid-drag",setup(z){const _=H("text"),t=H([]),$=["a","b","c","d","e","f","g"];let g=0,M=0;$.forEach((b,o)=>{g=10+(x+h)*(o%v),M=10+(f+h)*Math.floor(o/v),t.value.push({id:`${new Date().getTime()}-${o}`,index:o,left:g,top:M,transition:"",zIndex:0,constant:b})});const w=t.value.length,i=v*x+(v-1)*h+20,Y=Math.ceil(w/v)*f+(v-1)*h+20,E=function(b,o){_.value="none";const u=b.clientX,l=b.clientY;let e=o.index;const s=o.left,a=o.top;document.onmousemove=function(p){o.zIndex=99,o.transition="";const I=p.clientX-u,S=p.clientY-l;let n=s+I,c=a+S;const X=0,L=i-x,N=Y-f;n<X?n=X:n>L&&(n=L),c<X?c=X:c>N&&(c=N),o.left=n,o.top=c;const W=o.left+x/2,j=o.top+f/2;for(let r=0;r<t.value.length;r++)if(o.index!==t.value[r].index&&W>t.value[r].left&&W<t.value[r].left+x&&j>t.value[r].top&&j<t.value[r].top+f){o.index=t.value[r].index,t.value[r].index=e,t.value[r].left=(x+h)*(e%v)+10,t.value[r].top=(f+h)*Math.floor(e/v)+10,t.value[r].transition="left 0.3s linear,top 0.3s linear",e=o.index;break}},document.onmouseup=function(){o.left=(x+h)*(e%v)+10,o.top=(f+h)*Math.floor(e/v)+10,o.zIndex=0,_.value="text",document.onmousemove=null}};return(b,o)=>(m(),y("div",{class:"drag-list",style:B({width:i+"px",height:Y+"px",userSelect:_.value})},[(m(!0),y(F,null,q(t.value,u=>(m(),y("div",{key:u.id,class:"drag-list-item",style:B({width:x+"px",height:f+"px",top:u.top+"px",left:u.left+"px",transition:u.transition,"z-index":u.zIndex}),onMousedown:l=>E(l,u)},[k("div",null,T(u.constant),1),k("div",null,"left: "+T(u.left),1),k("div",null,"top: "+T(u.top),1)],44,R))),128))],4))}},Z=C(U,[["__scopeId","data-v-3ac25306"]]);const tt=z=>(A("data-v-c86ba7b7"),z=z(),J(),z),et=tt(()=>k("div",{class:"title"},"元素拖拽",-1)),ot={__name:"index",setup(z){return(_,t)=>{const $=G("el-tab-pane"),g=G("el-tabs");return m(),y(F,null,[et,D(g,{modelValue:"1"},{default:V(()=>[D($,{label:"列表",name:"1"},{default:V(()=>[D(Q)]),_:1}),D($,{label:"网格",name:"2",lazy:""},{default:V(()=>[D(Z)]),_:1})]),_:1})],64)}}},st=C(ot,[["__scopeId","data-v-c86ba7b7"]]);export{st as default};
