import{_ as E,r as H,a as h,c as g,F,d as G,e as B,t as M,b as k,h as j,i as w,j as C,p as A,l as J}from"./index-9b944755.js";const K=["onMousedown"],r=50,X=10,O={__name:"list-drag",setup(m){const d=H("text"),t=H([]);["a","b","c","d","e","f","g"].forEach((x,o)=>{t.value.push({id:`${new Date().getTime()}-${o}`,index:o,top:10+(r+X)*o,transition:"",zIndex:0,constant:x})});const f=t.value.length,I=f*r+(f-1)*X+10*2,V=function(x,o){d.value="none";const c=x.clientY;let s=o.index;const e=o.top;document.onmousemove=function(n){o.zIndex=99,o.transition="";const y=n.clientY-c;let a=e+y;const $=0,D=I-r;a<$?a=$:a>D&&(a=D),o.top=a;const S=o.top+r/2;for(let i=0;i<t.value.length;i++)if(o.index!==t.value[i].index&&S>t.value[i].top&&S<t.value[i].top+r){o.index=t.value[i].index,t.value[i].index=s,t.value[i].top=s*(r+X)+10,t.value[i].transition="top 0.3s linear 0s",s=o.index;break}},document.onmouseup=function(){o.top=s*(r+X)+10,o.zIndex=0,d.value="text",document.onmousemove=null}};return(x,o)=>(h(),g("div",{class:"drag-list",style:B({height:I+"px",userSelect:d.value})},[(h(!0),g(F,null,G(t.value,c=>(h(),g("div",{key:c.id,class:"drag-list-item",style:B({height:r+"px",top:c.top+"px",transition:c.transition,"z-index":c.zIndex}),onMousedown:s=>V(s,c)},M(c.constant)+" --- top: "+M(c.top),45,K))),128))],4))}},Q=E(O,[["__scopeId","data-v-f85bc5aa"]]);const R=["onMousedown"],p=100,_=100,v=10,u=3,U={__name:"grid-drag",setup(m){const d=H("text"),t=H([]),b=["a","b","c","d","e","f","g"];let f=0,I=0;b.forEach((s,e)=>{f=10+(p+v)*(e%u),I=10+(_+v)*Math.floor(e/u),t.value.push({id:`${new Date().getTime()}-${e}`,index:e,left:f,top:I,transition:"",zIndex:0,constant:s})});const V=t.value.length,x=u*p+(u-1)*v+20,o=Math.ceil(V/u)*_+(u-1)*v+20,c=function(s,e){d.value="none";const n=s.clientX,y=s.clientY;let a=e.index;const $=e.left,D=e.top;document.onmousemove=function(S){e.zIndex=99,e.transition="";const i=S.clientX-n,q=S.clientY-y;let Y=$+i,z=D+q;const P=0,L=x-p,N=o-_;Y<P?Y=P:Y>L&&(Y=L),z<P?z=P:z>N&&(z=N),e.left=Y,e.top=z;const T=e.left+p/2,W=e.top+_/2;for(let l=0;l<t.value.length;l++)if(e.index!==t.value[l].index&&T>t.value[l].left&&T<t.value[l].left+p&&W>t.value[l].top&&W<t.value[l].top+_){e.index=t.value[l].index,t.value[l].index=a,t.value[l].left=(p+v)*(a%u)+10,t.value[l].top=(_+v)*Math.floor(a/u)+10,t.value[l].transition="left 0.3s linear,top 0.3s linear",a=e.index;break}},document.onmouseup=function(){e.left=(p+v)*(a%u)+10,e.top=(_+v)*Math.floor(a/u)+10,e.zIndex=0,d.value="text",document.onmousemove=null}};return(s,e)=>(h(),g("div",{class:"drag-list",style:B({width:x+"px",height:o+"px",userSelect:d.value})},[(h(!0),g(F,null,G(t.value,n=>(h(),g("div",{key:n.id,class:"drag-list-item",style:B({width:p+"px",height:_+"px",top:n.top+"px",left:n.left+"px",transition:n.transition,"z-index":n.zIndex}),onMousedown:y=>c(y,n)},[k("div",null,M(n.constant),1),k("div",null,"left: "+M(n.left),1),k("div",null,"top: "+M(n.top),1)],44,R))),128))],4))}},Z=E(U,[["__scopeId","data-v-3ac25306"]]);const tt=m=>(A("data-v-c86ba7b7"),m=m(),J(),m),et=tt(()=>k("div",{class:"title"},"元素拖拽",-1)),ot={__name:"index",setup(m){return(d,t)=>{const b=j("el-tab-pane"),f=j("el-tabs");return h(),g(F,null,[et,w(f,{modelValue:"1"},{default:C(()=>[w(b,{label:"列表",name:"1"},{default:C(()=>[w(Q)]),_:1}),w(b,{label:"网格",name:"2",lazy:""},{default:C(()=>[w(Z)]),_:1})]),_:1})],64)}}},st=E(ot,[["__scopeId","data-v-c86ba7b7"]]);export{st as default};
