import{_ as W,a as L,o as I,c as Y,F as G,m as O,n as N,t as E,f as C,b as K,d as X,w as V,p as R,g as Z}from"./index-d2a1e12a.js";const tt=["onMousedown","onTouchstart","onTouchmove","onTouchend"],v=50,k=10,ot={__name:"list-drag",setup(S){const u=L("text"),n=L([]);["a","b","c","d","e","f","g"].forEach((s,a)=>{n.value.push({id:`${Date.now()}-${a}`,index:a,top:10+(v+k)*a,transition:"",zIndex:0,constant:s})});const g=n.value.length,y=g*v+(g-1)*k+10*2;let b=0,p=0,z=0;function M(s,a){const c=a-b;let l=z+c;const H=0,t=y-v;l<H?l=H:l>t&&(l=t),s.top=l;const e=s.top+v/2;for(let o=0;o<n.value.length;o++)if(s.index!==n.value[o].index&&e>n.value[o].top&&e<n.value[o].top+v){s.index=n.value[o].index,n.value[o].index=p,n.value[o].top=p*(v+k)+10,n.value[o].transition="top 0.3s linear 0s",p=s.index;break}}const m=function(s,a){u.value="none",b=s.clientY,p=a.index,z=a.top,i(a),w(a)};function i(s){document.onmousemove=function(a){s.zIndex=99,s.transition="",M(s,a.clientY)}}function w(s){document.onmouseup=function(){s.top=p*(v+k)+10,s.zIndex=0,u.value="text",document.onmousemove=null}}function $(s,a){u.value="none",b=s.targetTouches[0].clientY,p=a.index,z=a.top}function F(s,a){a.zIndex=99,a.transition="";const c=s.targetTouches[0];M(a,c.clientY)}function U(s){s.top=p*(v+k)+10,s.zIndex=0,u.value="text"}return(s,a)=>(I(),Y("div",{class:"drag-list",style:N({height:y+"px",userSelect:u.value})},[(I(!0),Y(G,null,O(n.value,c=>(I(),Y("div",{key:c.id,class:"drag-list-item",style:N({height:v+"px",top:c.top+"px",transition:c.transition,"z-index":c.zIndex}),onMousedown:l=>m(l,c),onTouchstart:l=>$(l,c),onTouchmove:l=>F(l,c),onTouchend:l=>U(c)},E(c.constant)+" --- top: "+E(c.top.toFixed()),45,tt))),128))],4))}},nt=W(ot,[["__scopeId","data-v-d96b0701"]]);const et=["onMousedown","onTouchstart","onTouchmove","onTouchend"],f=100,h=100,_=10,r=3,st={__name:"grid-drag",setup(S){const u=L("text"),n=L([]),T=["a","b","c","d","e","f","g"];let g=0,y=0;T.forEach((t,e)=>{g=10+(f+_)*(e%r),y=10+(h+_)*Math.floor(e/r),n.value.push({id:`${Date.now()}-${e}`,index:e,left:g,top:y,transition:"",zIndex:0,constant:t})});const b=n.value.length,p=r*f+(r-1)*_+20,z=Math.ceil(b/r)*h+(r-1)*_+20;let M=0,m=0,i=0,w=0,$=0;function F(t,e,o){const x=e-M,Q=o-m;let D=w+x,P=$+Q;const B=0,j=p-f,q=z-h;D<B?D=B:D>j&&(D=j),P<B?P=B:P>q&&(P=q),t.left=D,t.top=P;const A=t.left+f/2,J=t.top+h/2;for(let d=0;d<n.value.length;d++)if(t.index!==n.value[d].index&&A>n.value[d].left&&A<n.value[d].left+f&&J>n.value[d].top&&J<n.value[d].top+h){t.index=n.value[d].index,n.value[d].index=i,n.value[d].left=(f+_)*(i%r)+10,n.value[d].top=(h+_)*Math.floor(i/r)+10,n.value[d].transition="left 0.3s linear,top 0.3s linear",i=t.index;break}}const U=function(t,e){u.value="none",M=t.clientX,m=t.clientY,i=e.index,w=e.left,$=e.top,s(e),a(e)};function s(t){document.onmousemove=function(e){t.zIndex=99,t.transition="",F(t,e.clientX,e.clientY)}}function a(t){document.onmouseup=function(){t.left=(f+_)*(i%r)+10,t.top=(h+_)*Math.floor(i/r)+10,t.zIndex=0,u.value="text",document.onmousemove=null}}function c(t,e){u.value="none";const o=t.targetTouches[0];M=o.clientX,m=o.clientY,i=e.index,w=e.left,$=e.top}function l(t,e){e.zIndex=99,e.transition="";const o=t.targetTouches[0];F(e,o.clientX,o.clientY)}function H(t){t.left=(f+_)*(i%r)+10,t.top=(h+_)*Math.floor(i/r)+10,t.zIndex=0,u.value="text"}return(t,e)=>(I(),Y("div",{class:"drag-list",style:N({width:p+"px",height:z+"px",userSelect:u.value})},[(I(!0),Y(G,null,O(n.value,o=>(I(),Y("div",{key:o.id,class:"drag-list-item",style:N({width:f+"px",height:h+"px",top:o.top+"px",left:o.left+"px",transition:o.transition,"z-index":o.zIndex}),onMousedown:x=>U(x,o),onTouchstart:x=>c(x,o),onTouchmove:x=>l(x,o),onTouchend:x=>H(o)},[C("div",null,E(o.constant),1),C("div",null,"left: "+E(o.left.toFixed()),1),C("div",null,"top: "+E(o.top.toFixed()),1)],44,et))),128))],4))}},at=W(st,[["__scopeId","data-v-3c8a107a"]]);const ct=S=>(R("data-v-0fe49cad"),S=S(),Z(),S),lt=ct(()=>C("div",{class:"title"},"元素拖拽",-1)),ut={__name:"index",setup(S){return(u,n)=>{const T=K("el-tab-pane"),g=K("el-tabs");return I(),Y(G,null,[lt,X(g,{"model-value":"1"},{default:V(()=>[X(T,{label:"列表",name:"1"},{default:V(()=>[X(nt)]),_:1}),X(T,{label:"网格",name:"2",lazy:""},{default:V(()=>[X(at)]),_:1})]),_:1})],64)}}},dt=W(ut,[["__scopeId","data-v-0fe49cad"]]);export{dt as default};
