import{_ as A,r as j,a as y,c as m,F as J,d as Z,e as G,t as H,b as W,h as U,i as F,j as q,p as tt,l as ot}from"./index-e0c37b77.js";const et=["onMousedown","onTouchstart","onTouchmove","onTouchend"],p=50,k=10,nt={__name:"list-drag",setup($){const _=j("text"),t=j([]);["a","b","c","d","e","f","g"].forEach((u,n)=>{t.value.push({id:`${new Date().getTime()}-${n}`,index:n,top:10+(p+k)*n,transition:"",zIndex:0,constant:u})});const T=t.value.length,w=T*p+(T-1)*k+10*2;let D=0,i=0,I=0;const B=function(u,n){_.value="none",D=u.clientY,i=n.index,I=n.top,document.onmousemove=function(c){n.zIndex=99,n.transition="";const x=c.clientY-D;let r=I+x;const a=0,o=w-p;r<a?r=a:r>o&&(r=o),n.top=r;const s=n.top+p/2;for(let e=0;e<t.value.length;e++)if(n.index!==t.value[e].index&&s>t.value[e].top&&s<t.value[e].top+p){n.index=t.value[e].index,t.value[e].index=i,t.value[e].top=i*(p+k)+10,t.value[e].transition="top 0.3s linear 0s",i=n.index;break}},document.onmouseup=function(){n.top=i*(p+k)+10,n.zIndex=0,_.value="text",document.onmousemove=null}};function V(u,n){_.value="none",D=u.targetTouches[0].clientY,i=n.index,I=n.top}function Y(u,n){n.zIndex=99,n.transition="";const x=u.targetTouches[0].clientY-D;let r=I+x;const a=0,o=w-p;r<a?r=a:r>o&&(r=o),n.top=r;const s=n.top+p/2;for(let e=0;e<t.value.length;e++)if(n.index!==t.value[e].index&&s>t.value[e].top&&s<t.value[e].top+p){n.index=t.value[e].index,t.value[e].index=i,t.value[e].top=i*(p+k)+10,t.value[e].transition="top 0.3s linear 0s",i=n.index;break}}function C(u){u.top=i*(p+k)+10,u.zIndex=0,_.value="text"}return(u,n)=>(y(),m("div",{class:"drag-list",style:G({height:w+"px",userSelect:_.value})},[(y(!0),m(J,null,Z(t.value,c=>(y(),m("div",{key:c.id,class:"drag-list-item",style:G({height:p+"px",top:c.top+"px",transition:c.transition,"z-index":c.zIndex}),onMousedown:x=>B(x,c),onTouchstart:x=>V(x,c),onTouchmove:x=>Y(x,c),onTouchend:x=>C(c)},H(c.constant)+" --- top: "+H(c.top),45,et))),128))],4))}},st=A(nt,[["__scopeId","data-v-0da51cf4"]]);const at=["onMousedown","onTouchstart","onTouchmove","onTouchend"],v=100,f=100,g=10,d=3,lt={__name:"grid-drag",setup($){const _=j("text"),t=j([]),E=["a","b","c","d","e","f","g"];let T=0,w=0;E.forEach((a,o)=>{T=10+(v+g)*(o%d),w=10+(f+g)*Math.floor(o/d),t.value.push({id:`${new Date().getTime()}-${o}`,index:o,left:T,top:w,transition:"",zIndex:0,constant:a})});const D=t.value.length,i=d*v+(d-1)*g+20,I=Math.ceil(D/d)*f+(d-1)*g+20;let B=0,V=0,Y=0,C=0,u=0;const n=function(a,o){_.value="none";const s=a.clientX,e=a.clientY;let S=o.index;const z=o.left,P=o.top;document.onmousemove=function(X){o.zIndex=99,o.transition="";const L=X.clientX-s,N=X.clientY-e;let b=z+L,M=P+N;const l=0,K=i-v,O=I-f;b<l?b=l:b>K&&(b=K),M<l?M=l:M>O&&(M=O),o.left=b,o.top=M;const Q=o.left+v/2,R=o.top+f/2;for(let h=0;h<t.value.length;h++)if(o.index!==t.value[h].index&&Q>t.value[h].left&&Q<t.value[h].left+v&&R>t.value[h].top&&R<t.value[h].top+f){o.index=t.value[h].index,t.value[h].index=S,t.value[h].left=(v+g)*(S%d)+10,t.value[h].top=(f+g)*Math.floor(S/d)+10,t.value[h].transition="left 0.3s linear,top 0.3s linear",S=o.index;break}},document.onmouseup=function(){o.left=(v+g)*(S%d)+10,o.top=(f+g)*Math.floor(S/d)+10,o.zIndex=0,_.value="text",document.onmousemove=null}};function c(a,o){_.value="none";const s=a.targetTouches[0];B=s.clientX,V=s.clientY,Y=o.index,C=o.left,u=o.top}function x(a,o){o.zIndex=99,o.transition="";const s=a.targetTouches[0],e=s.clientX-B,S=s.clientY-V;let z=C+e,P=u+S;const X=0,L=i-v,N=I-f;z<X?z=X:z>L&&(z=L),P<X?P=X:P>N&&(P=N),o.left=z,o.top=P;const b=o.left+v/2,M=o.top+f/2;for(let l=0;l<t.value.length;l++)if(o.index!==t.value[l].index&&b>t.value[l].left&&b<t.value[l].left+v&&M>t.value[l].top&&M<t.value[l].top+f){o.index=t.value[l].index,t.value[l].index=Y,t.value[l].left=(v+g)*(Y%d)+10,t.value[l].top=(f+g)*Math.floor(Y/d)+10,t.value[l].transition="left 0.3s linear,top 0.3s linear",Y=o.index;break}}function r(a){a.left=(v+g)*(Y%d)+10,a.top=(f+g)*Math.floor(Y/d)+10,a.zIndex=0,_.value="text"}return(a,o)=>(y(),m("div",{class:"drag-list",style:G({width:i+"px",height:I+"px",userSelect:_.value})},[(y(!0),m(J,null,Z(t.value,s=>(y(),m("div",{key:s.id,class:"drag-list-item",style:G({width:v+"px",height:f+"px",top:s.top+"px",left:s.left+"px",transition:s.transition,"z-index":s.zIndex}),onMousedown:e=>n(e,s),onTouchstart:e=>c(e,s),onTouchmove:e=>x(e,s),onTouchend:e=>r(s)},[W("div",null,H(s.constant),1),W("div",null,"left: "+H(s.left.toFixed()),1),W("div",null,"top: "+H(s.top.toFixed()),1)],44,at))),128))],4))}},ct=A(lt,[["__scopeId","data-v-5d9ae726"]]);const it=$=>(tt("data-v-c86ba7b7"),$=$(),ot(),$),ut=it(()=>W("div",{class:"title"},"元素拖拽",-1)),dt={__name:"index",setup($){return(_,t)=>{const E=U("el-tab-pane"),T=U("el-tabs");return y(),m(J,null,[ut,F(T,{modelValue:"1"},{default:q(()=>[F(E,{label:"列表",name:"1"},{default:q(()=>[F(st)]),_:1}),F(E,{label:"网格",name:"2",lazy:""},{default:q(()=>[F(ct)]),_:1})]),_:1})],64)}}},pt=A(dt,[["__scopeId","data-v-c86ba7b7"]]);export{pt as default};
